var suki=module.exports={},node_modules={fs:require("node:fs"),url_utils:require("node:url"),querystring:require("node:querystring"),os:require("node:os"),path:require("node:path")};
(function(d,P){async function ma(p,t,w,g,e,u,b,a){var c;try{var q=await Deno.open(w);var h=await q.stat()}catch(k){q=h=null}if(c=h&&h.isFile&&h.size){p[1][p[2]]&&(p[1][p[2]]=null);p=w.substr(w.lastIndexOf(".")+1);w=e["if-modified-since"];e=d.mime.types[p]||d.mime.defaultType;p=w&&(new Date(w)).getTime();w="1.1"===g;u=(new Date).toUTCString();b=h.mtime;if(p===b.getTime())t[w?"write":"end"]("HTTP/"+g+" 304 Not Modified\r\nDate: "+u+"\r\nServer: "+d.server+"\r\nCache-Control: max-age=864000\r\nLast-Modified: "+
b.toUTCString()+"\r\nConnection: "+(w?"keep-alive":"close")+"\r\n\r\n");else t.write("HTTP/"+g+" 200\r\nDate: "+u+"\r\nContent-Type: "+e+"\r\nContent-Length: "+h.size+"\r\nAccept-Ranges: none\r\nServer: "+d.server+"\r\nCache-Control: max-age=864000\r\nLast-Modified: "+b.toUTCString()+"\r\nConnection: "+(w?"keep-alive":"close")+"\r\n\r\n").streamFrom(q);return!0}0===c&&q.close();if(a)return p[0](),!0;try{q=await Deno.open(w+u),h=await q.stat()}catch(k){q=h=null}if(c=h&&h.isFile&&h.size)return p[0](q,
h,!1),!0;0===c&&q.close();try{q=await Deno.open(w+b),h=await q.stat()}catch(k){q=h=null}if(c=h&&h.isFile&&h.size)return p[0](q,h,!0),!0;0===c&&q.close();p[6].error("No such file(1).",404);return!0}async function na(p,t,w){var g=this[3],e=this[1],u=this[2],b=this[6],a=this[5],c=this[7],q=e[4],h=q[u],k;if(!p)try{p=await Deno.open(u+g),t=await p.stat()}catch(l){p=t=null}if(!w){var n=t&&t.isFile&&t.size?t.mtime.getTime():0;if(h&&n===h.ts[0])return h.ck=!1,h.ts[1]=(new Date).getTime(),a(h,b),p&&p.close(),
!0;if(n){try{await p.read(k=new Uint8Array(t.size)),h=q[u]=this[8](Q.decode(k),c,R(u+g)),h.ts=[n,(new Date).getTime()],b._r[6]=!1,a(h,b)}catch(l){b.error("Updating script failed(1).",500)}p.close();return!0}}p&&p.close();h=q[u]={cs:e[16]};h.ts=[n,(new Date).getTime()];b._r[6]=!1;b.flush();return!0}async function oa(){var p=this[3],t=this[1],w=this[2],g=this[6],e=this[5],u=this[7],b=t[4],a=b[w];try{var c=await fetch(w+p)}catch(q){return g.error("NCS network error.")}if(p=c.ok&&(c.headers.get("Last-Modified")||
1)||0){if(a&&p===a.ts[0])a.ck=!1,a.ts[1]=(new Date).getTime(),e(a,g);else try{a=b[w]=this[8](await c.text(),u),a.ts=[p,(new Date).getTime()],g._r[6]=!1,e(a,g)}catch(q){g.error("Updating script failed(2).",500)}return!0}this[0]=Y;e=await this[0]();e.fn?(a=b[w]={cs:t[16]},a.ts=[p,(new Date).getTime()],g._r[6]=!1,g.flush()):e.error?g.error("View renderring error.\n"+e.error,500):g.error("View file not exists.",404);return!0}async function pa(p,t){var w=this[1],g=this[6];p=p||g._r[5];g=w[18];var e,u;
try{var b=await Deno.open(p);var a=await b.stat()}catch(q){b=a=null}var c=a&&a.isFile&&a.size?a.mtime.getTime():0;if((e=g[p])&&c===e.mtime)return b.close(),t&&("function"===typeof t?t(e):t[0](e)),e;if(c){e={mtime:c};try{await b.read(u=new Uint8Array(a.size)),e.fn=w[19](Q.decode(u)),g[p]=e}catch(q){e.error=q.stack}}else e={};b&&b.close();t&&("function"===typeof t?t(e):t[0](e));return e}async function Y(p,t){var w=this[1],g=this[6];p=p||g._r[5];var e=w[18];try{var u=await fetch(p.replace("#","%23"))}catch(a){return g.error("NCS network error(view).")}var b=
u.ok&&(u.headers.get("Last-Modified")||1)||0;if((g=e[p])&&b===g.mtime)return t&&("function"===typeof t?t(g):t[0](g)),!0;if(b){g={mtime:b};try{g.fn=w[19](await u.text()),e[p]=g}catch(a){g.error=a.stack}}else g={};t&&("function"===typeof t?t(g):t[0](g));return!0}function qa(){function p(f,m,r,z){var A=y,C=A[0],B=m[1],E=B.indexOf("?"),J=~E&&B.substr(E+1);B=~E&&B.substr(0,E)||B;E=r.host||"*";var I;if(!(I=A[9][E])){I=E.indexOf(":");var H=~I&&E.substr(0,I)||E;I=H.substr(0,H.indexOf("."));H=y[9][H]||y[9][H.replace(I,
"*")]||y[9]["*"];~H.indexOf("*")&&(H=H.replace(D,I));G===x?(x=0,y[9]={},y[9][E]=H):G>x++&&(y[9][E]=H);I=H}E=I;var K=E.indexOf(" ");I=0===K?"":E.substring(K+1);H=A[15];var L=H.length,Z=A[1],aa=(new Date).getTime(),V=m[2].substr(5);E=0===K?E.trimLeft():E.substring(0,K);this._args=[m,r,z];if(~B.indexOf("%"))try{B=decodeURIComponent(B)}catch(S){return this._r=F(f,"",V),this.error("Invalid unicode character in URL.",400)}"/"===B.charAt(B.length-1)&&(B=B+"index"+H);m=B.slice(-L);if(A[2]&&C._defend(C.getIP(r),
A[2]))return this._r=F(f,"",V),this.error("Block settings taking effect to prevent insecurity access.",404);L=(m=H===m)?B.substr(0,B.length-L):B;K=E+L;if(J){r.querystring=J;try{var ba=A[5](J,"&")}catch(S){d.log("HTTP QUERYSTRING parsing error: \n"+J+"\n"+S.stack,"e"),ba=A[10]}}if(r.cookie)try{var ca=A[5](r.cookie,"; ")}catch(S){d.log("HTTP COOKIE parsing error: \n"+r.cookie+"\n"+S.stack,"e"),ca=A[10]}if(z&&X(z))if(r["content-type"]&&~r["content-type"].indexOf("application/dns-message"))var N={dns:z};
else try{N=Q.decode(z),N="{"===N.charAt(0)||"["===N.charAt(0)?JSON.parse(N):A[5](N)}catch(S){N=z}z=[ba||A[10],ca||A[10],N||A[10],r];this._r=[f,"",V,aa,L,K+A[1],!0,{suki:C,_server:r,_get:z[0],_post:z[2],_cookie:z[1]},!1,!0,!0,[null,A,K,H,Z,t,this,I||E,l]];if(C=A[4][K]){z=C.ts;if(C.ck||A[3]>aa-z[1]){t(C,this);return}C.ck=!0}this._r[9]=!1;if("/"===B.slice(-1)||~B.replace("\\","..").indexOf("..")||~B.indexOf(".sjs."))this.error("Please examine the config of WebServer to prevent this issue of security(1).",
404);else if(C=this._r[11],~C[7].indexOf("://")&&(C[7]=""),(z=~E.indexOf("://"))?(E=I,C[0]=oa):C[0]=na,m)C[0]();else if(A[1]===B.slice(-H.length-5)||A[17]===B.slice(-A[17].length)||A[11].test(B))this.error("Please examine the config of WebServer to prevent this issue of security(2).",404);else if(E)ma(C,f,E+B,V,r,H,Z,z);else C[0]()}function t(f,m){var r=m._r[7];f.cs(m,r,r._get,r._post,r._cookie,r._server)}function w(f,m){var r=v;void 0!==this.skid||(this.skid=r[0].id?"-"+r[0].id:"-suki");if(void 0===
f||f)u(this,f,[g,this]);else if(X(m)){f=this._r;r=v;var z=new Date;var A=f[2];var C="1.1"===A;var B=this.contentType;var E=z.getTime()-f[3];try{f[0].write("HTTP/"+A+" "+this.status+"\r\nDate: "+z.toUTCString()+(f[10]?"\r\nCache-Control: must-revalidate, no-cache, private\r\nExpires: -1\r\nPragma: no-cache":"")+"\r\nContent-Type: "+B+(this.hasOwnProperty("charset")?"; charset="+this.charset:"text"===B.substr(0,4)&&"; charset="+this.charset||"")+"\r\nContent-Length: "+m.byteLength+"\r\nServer: "+r[0].server+
f[1]+(this.sendET&&isNaN(E)&&"\r\nX"+this.skid+": N/A"||"\r\nX"+this.skid+": "+E)+(f[6]&&", 1"||", -1")+"\r\nConnection: "+(C?"keep-alive":"close")+"\r\n\r\n",this.encoding),f[0][C&&"write"||"end"](m),this._r=null}catch(J){d.log("Socket Writing Error.\n"+(J.stack||J),"e")}}else e("string"===typeof m?m:m&&String(m)||"",!0,this)}function g(f){var m=this[1];f.fn?e(f,!0,m):m.error("view file not exists.(1)",404)}function e(f,m,r){var z=r._r,A=v,C=new Date;try{var B="string"===typeof f?f:f.fn(z[7])}catch(L){return r.error("[template renderring error]\n"+
(L.stack||L),500)}f=z[2];var E="1.1"===f;if("string"===typeof B){var J=r.contentType;var I=""!==B&&r.eid;var H=r.json;var K=C.getTime()-z[3];I&&"text/javascript"!==J&&(J="text/javascript",H.html=~B.indexOf("\n")?B.replace(A[9],""):B,B='window["'+I+'"]='+JSON.stringify(H)+";");try{z[0][E&&"write"||"end"]("HTTP/"+f+" "+r.status+"\r\nDate: "+C.toUTCString()+(z[10]?"\r\nCache-Control: must-revalidate, no-cache, private\r\nExpires: -1\r\nPragma: no-cache":"")+"\r\nContent-Type: "+J+(r.hasOwnProperty("charset")?
"; charset="+r.charset:"text"===J.substr(0,4)&&"; charset="+r.charset||"")+"\r\nContent-Length: "+T.encode(B).length+"\r\nServer: "+A[0].server+z[1]+(r.sendET&&isNaN(K)&&"\r\nX"+r.skid+": N/A"||"\r\nX"+r.skid+": "+K)+(m&&z[6]&&", 1"||(m?", -1":", -2"))+"\r\nConnection: "+(E?"keep-alive":"close")+"\r\n\r\n"+B,r.encoding),r._r=null}catch(L){console.log("Socket Writing Error.\n"+(L.stack||L))}return r}return r.error("template rendering error",500)}function u(f,m,r){var z=f._r,A;void 0===m?A=z[5]:"string"===
typeof m&&(A=~m.indexOf("://")?m:m.isAbs()?da(z[5],m):z[5].replace(f.tpE,"#"+m+f.tpE));if(k[A]&&z[9])r[0](k[A]);else f=z[11],f[0]=~A.indexOf("://")?Y:pa,f[0](A,r)}function b(f){if(f.error)this[1].error(f.error);else{a:{try{var m=f.fn(this[1]._r[7])}catch(r){f=[void 0,"template rendering error"+(r.stack||r)];break a}f=[m,null]}f[0]?"function"===typeof this[2]?this[2](f[0]):this[2][0](f[0]):this[1].error(f[1])}}function a(){return""}var c=p.prototype,q=ea,h=1E4,k={},n=fa,l;W=p;O=function(f,m){var r=
ha;f&&("aliasHostHeader"===f?(r.preferAliasHost=!0,r.aliasHostHeader=String(m).trim().toLowerCase()):"checkInterval"===f?h=y[3]=m:"csBuilder"===f?l=m:(c[f]=m,"_f"===f&&(y[2]=m)));return W};c.tpE=d.init[2];c.csE=d.init[3];c.status="200";c.charset="UTF-8";c.encoding="utf8";c.contentType="text/html";c.sendET=c._g=c._f=!1;c.eso="";c.proxy="";c.cacheProxy=c.proxyCache="";c.error="";c.proxySendFile=!1;c.sendFileDir="";c.sendFileHeader="X-Accel-Redirect";c.buffer="";c.getTplVals=function(){return this._r[7]};
c.setContentType=function(f){this.contentType=f;return this};c.flush=w;c.header=function(f){var m=this._r;m[1]+="\r\n"+f;m[10]&&(~f.indexOf("xpires:")||~f.indexOf("ontrol:"))&&(m[10]=!1);return this};c.redirect=function(f,m){var r=this.eid;this._r[1]+="\r\nLocation: "+(r?f+(~f.indexOf("?")?"&":"?")+"__eso="+r.substr(1):f);this.status=m||"302";return this.flush(!1)};c.setCookie=function(f){if(this.eid){var m=this.json;var r=m.cookie;f=d.creatCookieHeader(f);r?"string"===typeof r?m.cookie=[r,f]:r.push(f):
m.cookie=f}else this._r[1]+="\r\n"+d.creatCookieHeader(f);return this};c.deleteCookie=function(f,m){f="Set-Cookie: "+f+"=deleted; expires=Thu, 09 May 1990 09:17:25 GMT"+(m?"; domain="+m:"");var r;this.eid?(m=this.json,(r=m.cookie)?"string"===typeof r?m.cookie=[r,f]:r.push(f):m.cookie=f):this._r[1]+="\r\n"+f;return this};c.deleteCookies=function(f,m){var r="Set-Cookie: "+f+"=deleted; expires=Thu, 09 May 1990 09:17:25 GMT"+(m?"; domain="+m:"");f="Set-Cookie: "+f+"=deleted; expires=Thu, 09 May 1990 09:17:25 GMT; path=/"+
(m?"; domain="+m:"");var z;this.eid?(m=this.json,(z=m.cookie)?"string"===typeof z?m.cookie=[z,r,f]:z.push(r,f):m.cookie=[r,f]):this._r[1]+="\r\n"+r+"\r\n"+f;return this};c.next=function(){arguments.R=arguments.r=this;return arguments};c.session=function(f,m){var r;if(this.eid)return this;m||=!0===f;(r=this._r[7]._cookie.SJSSESSIONID)?this.session=r:(r=this.session=d.MD5(this._r[3]+Math.random().toString()),this.setCookie({name:"SJSSESSIONID",value:r,hours:!0!==f&&0<f&&f,secure:m,http:!0}));return this};
c.sendFile=function(f,m){var r=this._r,z=new Date,A=r[2],C="1.1"===A;if(!r)return void 0===r?this.error("flush(): invalid 'this'."):this;if(f.isAbs()&&n(f)){m||="application/force-download";if(!~m.indexOf("/")){var B=m;m="application/force-download"}r[0][C&&"write"||"end"]("HTTP/"+A+" 200\r\nDate: "+z.toUTCString()+"\r\nContent-Type: "+m+"\r\nContent-Length: "+fs.statSync(f).size+("application/force-download"===m?"\r\nContent-Disposition: attachment; filename="+(B||path.basename(f)):"")+"\r\nServer: "+
d.server+r[1]+(this.sendET?"\r\nX-SR: "+(z-r[3]):"\r\nX-SR: N/A")+(r[6]?", 1":", -1")+"\r\nConnection: "+(C?"keep-alive":"closed")+"\r\n\r\n",this.encoding);fs.createReadStream(f).pipe(r[0]);this._r=null}else return this.error("No such file : "+f,404);return this};var y=[d,c.tpE,c._f,h,{},ia,null,w,d.init[0],d.init[1],d.nullObj,RegExp("\\.\\.|\\\\|\\/\\/|\\/_suki"),n,null,RegExp("\\/","g"),c.csE,function(f){f.flush()},d.moduleExtention,k,q],v=Array(9);v[0]=d;v[9]=/[\f\n\r\t\v]/g;c.getFlush=function(f,
m){void 0===m?u(this,void 0,[b,this,f]):u(this,f,[b,this,m]);return this};d.getRender=function(f){try{var m=v[6](f)}catch(r){m=a}return m};d.render=function(f,m){try{var r=m(f)}catch(z){r=""}return r};var x=0,G=3E3,D=RegExp("\\*","g");try{var F=new Function("...a","return a")}catch(f){F=function(){return arguments}}}function ra(){function p(a){var c=a.length,q=1,h;this.got=[!1,null,0,[],0,0,!1];for(this.post={};q<c;q++){var k=a[q].indexOf("\r\n\r\n");if(!~k){this.got[0]=!0;break}var n=a[q].substring(0,
k);k=a[q].substr(k+4);this.got[2]++;var l=n.indexOf("name=")+6;var y=n.indexOf('"',l);l=n.substring(l,y);var v=n.indexOf("filename=");y=~v;var x=this.post;(h="[]"===l.slice(-2))&&(l=l.slice(0,-2));if(y){this.got[4]++;var G=n.indexOf('"',v+10);n=n.substring(v+10,G);n={name:n,size:k.length-2,error:!1,purge:w};n.tmpName=path.normalize(b+"/sukijs_"+l+"."+d.random(10)+"."+(new Date).getTime());b&&k?(n._fs=fs.createWriteStream(n.tmpName,u),t(n,this.got),this.got[3].push(n._fs),"\r\n"===k.slice(-2)?(k=k.slice(0,
-2),n._fs.end(k,"binary")):n._fs.write(k,"binary")):(n.tmpName="",n.error=!0);k=n}else k=k.slice(0,-2),k=65537>k.length&&this.binaryToUTF8(k)||"";h?(x[l]||(x[l]=[]),x[l].push(k)):x[l]=k;q===c-1&&(this.last=[l,y])}}function t(a,c){setTimeout(function(){a._finished?fs.unlink(a.tmpName,e):(a.error=!0,a.tmpName="",a.size=0,a._fs.end())},3E4);a._fs.on("error",function(){a.error||(a.error=!0,a.tmpName="",a.size=0,a._fs.end())});a._fs.on("finish",function(){a._finished=!0;a.error&&(c[6]=!0,fs.unlink(a.tmpName,
e));++c[5]===c[4]&&c[0]&&(c[3].length=0,c[1]&&c[1](),c.length=0)})}function w(){fs.unlink(this.tmpName,e)}var g=ja={},e=d.nullFunc,u={mode:438,flag:"r+"},b=d.init[4];g.initPost=function(a,c,q,h,k,n,l,y){var v=Number(k["content-length"]),x=k["content-type"]||"",G;x=(0===x.indexOf("application/x-www-form-urlencoded")||0===x.indexOf("application/json")||0===x.indexOf("application/dns-message"))&&0<v||"multipart/form-data"===x.substr(0,19)&&(G=x.split("="))&&2===G.length&&G[1];n=y-(n.length||0);l=l-n-
4;n=-1<l&&c.slice(n+4);l=v===l;if(x&&v)if(!0===x&&l)a._b=0,new q(a,h,k,n);else if(l){var D=new p(c.toString("binary").split("--"+x));a._b=0;D.got[1]=function(){new q(a,h,k,D.post)}}else a.raw=n,a._p=[h,k],G?(a.maxUploadSize=104857600,a.__b=x,a._b=65537):a._b=v;else a._b=-1,a.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : Not support for This so called 'HTTP-POST'..."),d.log("Net socket denied.(Not support for This so called 'HTTP-POST'...)","n")};g.post=function(a,c,q,h){var k=a.raw,n=k.length,l=d.creatBuffer(c.length+
n);if(void 0!==k.length&&0<h&&65537>h)k.copy(l,0,0),c.copy(l,n,0),h===l.length?(a._b=0,new q(a,a._p[0],a._p[1],l)):a.raw=l;else if(65537===h)g._upload(a,c,q);else{a.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : BAD POSTING REQUEST.");try{c.length=0,a.destroy()}catch{}}};g._upload=function(a,c,q){var h=a._uploader;if(h)if(100<h.got[2]||a._uploaderL>a.maxUploadSize)a._b=-1,a.end("HTTP POST too Large!"),h.got[1]=null,console.log("HTTP POST too Large!\nForbidden for ever on this actived socket.");else{var k=
c.toString("binary");h.add(k.split("--"+a.__b),c);h.got[0]?(a._b=0,a._uploader=null,h.got[4]?h.got[1]=function(){new q(a,a._p[0],a._p[1],h.post)}:new q(a,a._p[0],a._p[1],h.post)):a._uploaderL+=c.length}else{var n=a.raw;var l=n.length;k=d.creatBuffer(c.length+l);n.copy(k,0,0);c.copy(k,l,0);c=a.__b;n=k.toString("binary");h=new p(n.split("--"+c));h.got[0]?(a._b=0,h.got[4]?h.got[1]=function(){new q(a,a._p[0],a._p[1],h.post)}:new q(a,a._p[0],a._p[1],h.post)):(a._uploaderL=k.length,a._uploader=h)}};p.prototype.add=
function(a,c){var q=a.length,h=this.last[0],k;if(1<q){if(this.last[1]&&a[0]){var n=this.post[h];Array.isArray(n)&&(n=n[n.length-1]);n.size+=a[0].length;b&&("\r\n"===a[0].slice(-2)&&(a[0]=a[0].slice(0,-2)),n._fs.end(a[0],"binary"))}for(h=1;h<q;h++){c=a[h].indexOf("\r\n\r\n");if(!~c){this.got[0]=!0;break}n=a[h].substring(0,c);c=a[h].substr(c+4);this.got[2]++;var l=n.indexOf("name=")+6;var y=n.indexOf('"',l);l=n.substring(l,y);var v=n.indexOf("filename=");y=~v;var x=this.post;(k="[]"===l.slice(-2))&&
(l=l.slice(0,-2));if(y){this.got[4]++;var G=n.indexOf('"',v+10);n=n.substring(v+10,G);n={name:n,size:c.length-2,error:!1,purge:w};n.tmpName=path.normalize(b+"/sukijs_"+l+"."+d.random(10)+"."+(new Date).getTime());b&&c?(n._fs=fs.createWriteStream(n.tmpName,u),t(n,this.got),this.got[3].push(n._fs),"\r\n"===c.slice(-2)?(c=c.slice(0,-2),n._fs.end(c,"binary")):n._fs.write(c,"binary")):(n.tmpName="",n.error=!0);c=n}else c=c.slice(0,-2),c=65537>c.length&&this.binaryToUTF8(c)||"";k?(x[l]||(x[l]=[]),x[l].push(c)):
x[l]=c;h===q-1&&(this.last=[l,y])}}else n=this.post[h],this.last[1]?(Array.isArray(n)&&(n=n[n.length-1]),n.size+=c.length,b&&n._fs.write(c)):(a=n+a[0],this.post[h]=65537>a.length&&this.binaryToUTF8(a)||"")};p.prototype.binaryToUTF8=d.binaryToUTF8}function sa(){var p=ha={},t={GET:!0,POST:!0};ka=function(w,g){var e=g._b,u=1,b=W,a=ja,c,q;if(Number(e))a.post(g,w,b,e);else{var h=w.length;var k=(e||"")+Q.decode(w);var n=k.indexOf("\r\n\r\n");var l=k.substring(0,4).trim();var y=d.rewriteRules;if(t[l])if(~n){var v=
k.substring(0,n).trim();var x=T.encode(v).length;var G=v.length===x;var D=v.split("\r\n");var F=D.length;if((q=1<F&&D[0].trim().split(" "))&&3===q.length){for(k={};u<F;u++){var f=D[u];var m=f.indexOf(":");if(~m)k[f.substring(0,m).trim().toLowerCase()]=f.substring(m+1).trim();else{k=null;break}}p.preferAliasHost&&k[p.aliasHostHeader]&&(k["x-real-host"]=k.host)&&(k.host=k[p.aliasHostHeader]);y&&(q[1]=d.rewriteURL(q[1]))}else k=null;k&&G||k.referer&&v.length-k.referer.length===x-(c=T.encode(k.referer).length)?
(k["remote-addr"]=g.remoteAddr,k.url=q[1],k.method=l,c&&c!==k.referer.length&&(k.referer=encodeURIComponent(k.referer)),"GET"===l?(g._b=0,new b(g,q,k,null)):a.initPost(g,w,b,q,k,e,h,n)):_reInit(g,k&&q[2],k&&q[1],!G)}else 8192<k.length?(g._b=-1,g.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : HTTP header too long! limited "+k.length+"."),console.log("HTTP header too long!"+k.length+"\nForbidden for ever on this actived socket.")):g._b=k;else g._b=-1,g.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : Not support for this method.\r\nSituation is logged."),
console.log("\r\nNot support for this method ("+l+").\r\n"+g.remoteAddr.hostname+"\r\n",k)}}}function ta(){var p=d.less,t=p?new p.Parser:!1,w={};p=e=>{w[e]=!0};var g=[/[\s;]*$/,/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,/[^\$\w\d]+/,/^\d/,/[\f\n\r\t\v]/g,/<(script.*?>)([\s\S]*?)<\/(script)/gi,RegExp("\x3c!--.*?<<scri_pt>","g"),/(`\{|\{)[\s]*?\[[\s]*?#[\s]*?(.*?)[\s]*?\][\s]*?(\}`|\})(.*)(\1)[\s]*?\[[\s]*?\/[\s]*?(\2)[\s]*?\][\s]*?(\3)/g,/(`\{|\{)[\s]*?\[[\s]*?(.*?)[\s]*?\][\s]*?(\}`|\})/g,/\\'/g,/s\+='s\+=/g,
/(`\{|\{)[\s]*?\[[\s]*?(\.|this)[\s]*?\][\s]*?(\}`|\})/g,/(`\{|\{)[\s]*?\[[\s]*?(.*?)[\s]*?\][\s]*?(\}`|\})/g,/<(style[^>]+?less|style)(.*?)<\/style>/gi,/\/\/.*/g,RegExp("\\/\\*[\\s\\S]*?\\*\\/","g"),function(e,u,b,a){e=g;b=b.replace(e[19],"</scri_pt>>").replace(e[20],"--\x3e");return"<"+u+b.replace(e[24],":\\/\\/").replace(e[14],"").replace(e[15],"").replace(e[25],e[28])+"</"+a},function(e,u,b,a){var c=b.indexOf(">");e=g;b=b.replace(g[23],"");if(t&&~u.toLowerCase().indexOf("less")&&~c){var q=b.substr(c+
1);u=u.replace(" less","");t.parse(q,function(h,k){b=b.substr(0,c)+">"+(h?q:k.toCSS({compress:!0}))})}return"<"+u+b.replace(e[25],e[28])+"</style>"},function(e,u,b,a,c){return"';var i=0,l=o."+b+".length,d=o."+b+";for(;i<l;i++){s+='"+c.replace(g[11],"'+d[i]+'").replace(g[12],"'+(d[i]['$1']||('undefined'===typeof $1?'':$1))+'")+"'}s+='"},RegExp("\x3c!--","g"),/<<scri_pt>/g,/<\/scri_pt>>/g,/<<scri_pt>/g,RegExp("\\/\\*.*?\\*\\/","g"),RegExp(":\\/\\/","g"),/([^\\])\\([^\\])/g,/<style|<less/i,/<script/i,
function(e,u,b){return u+"\\\\"+b},/^[a-zA-Z0-9_$]+$/,/s\+='';/g,/^[\s]*?=[\s]*?/];"Math JSON encodeURI encodeURIComponent decodeURI decodeURIComponent escape unescape eval isNaN isFinite parseInt parseFloat null undefined NaN Infinity Object Array Function Boolean String Number Date RegExp Error".split(" ").forEach(p);"break case catch continue debugger default delete do else false finally for function if in instanceof new return switch this throw true try typeof var void while with const".split(" ").forEach(p);
"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile arguments let yield".split(" ").forEach(p);ea=function(e){e=e.replace(/\\/g,"\\\\");var u={},b="",a=g,c=function(h){if(h&&!w[h]&&!a[3].test(h)&&!u[h]){if("s"===h||"o"===h)throw"There must not be '"+h+"' in template as it is taken internally.";u[h]=!0;b+=","+h+"=o."+h+"||(0===o."+h+"?'0':'')"}},
q=a[27].exec(e);(q&&=e.indexOf(q[0]))&&(e=e.substr(0,q)+e.substr(q).replace(a[5],a[16]));e=e.replace(a[4],"");(q=a[26].exec(e))&&(q=e.indexOf(q[0]))&&(e=e.substr(0,q)+e.substr(q).replace(a[13],a[17]));q=e.indexOf("</scri_pt>>");~q&&(e=e.substr(0,q)+e.substr(q).replace(a[6],"").replace(a[21],"</scri_pt>>").replace(a[22],"--\x3e"));e=e.split("'").join("\\'").replace(a[7],a[18]).replace(a[8],function(h,k,n){k=n.replace(a[9],"'");k=k.trim();h="="===k.charAt(0)||a[29].test(k)?"';s+="+k.replace(a[31],"").replace(a[0],
"")+";s+='":"';"+k+";s+='";k=k.replace(a[1],"");k.split(a[2]).forEach(c);return h})+"';return s;";e="var s=''"+b+";"+("s+='"+e).replace(a[10],"s+=");return new Function("o",e.replace(a[30],""))}}function ua(){var p={500:["500 Internal Server Error","Current service is temporarily unavailable."],502:["502 Bad gateway","Networking is temporarily unavailable."],503:["503 Service Unavailable","Server is busy, pleas try again later."],400:["400 Bad Request","Invalid HTTP request."],403:["403 Forbidden",
"Access Denied."],404:["404 Not Found","The requested URL is not found on this server."]};W.prototype.error=function(t,w){var g=this._r;if(g&&g.length){this.status=w||"500";this.contentType="text/html";w=this.flush;t=String(t||"");var e=String(this.status),u=p[e];t=u&&"<!DOCTYPE HTML><html><head><title>"+(u&&u[0]||e)+'</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><style>html, body{margin:0 16px;padding:0;font-family:Varela Round,Helvetica,Arial,sans-serif;font-size:16px;line-height:26px}body{background:#fff;color:#222}h1{color:#205080;font-size:20px;font-weight:100;letter-spacing:0.2ex;text-shadow:#d0e0ea 0 1px;line-height:40px;border-bottom:2px solid #c0d0e0}h1:before{content:"";content:"\\203a\\2002"}div{font-size:12px;background:#cccccc;padding:5px;padding-left:10px}</style></head><body><h1>'+
(u&&u[0]||e)+"</h1><p>"+(u&&u[1]||"")+"</p><div><p><strong>Detail:</strong></p><p>"+t.replace("<","&lt;").replace(">","&gt;").replace(/\n|\r\n/g,"<br>")+"</p><div></body></html>"||t;w.call(this,null,t);g.length=0}else t=String(t).replace(/<br>/gi,"\r\n"),d.log("a sync error occured after REST.flush() SO it would not display on webpage: \r\n"+t,"c");return this}}var U=class{static parse=null;static listen(p,t){U._connLoop(Deno.listen({port:p,hostname:t,transport:"tcp"}))}static async _connLoop(p){for await(let t of p)U._packetLoop(t)}static async _packetLoop(p){var t=
new va(p);for await(let w of p.readable)U.parse(w,t)}};var va=class{_sock=null;_textEncoder=T;remoteAddr="";_b=0;constructor(p){this._sock=p;this.remoteAddr=p.remoteAddr.hostname}write(p){"string"===typeof p?this._sock.write(this._textEncoder.encode(p)):this._sock.write(p);return this}async end(p){p&&await ("string"===typeof p?this._sock.write(this._textEncoder.encode(p)):this._sock.write(p));this._sock.close()}streamFrom(p){p.readable.pipeTo(this._sock.writable,{preventClose:!0})}};var R,fa,ia,X,
da,Q,T,la,M;!async function(){if("undefined"===typeof require){var p=(await MODULE).createRequire;M=p(IMU)}else M=require;p=P.fs;var t=P.url_utils,w=P.querystring,g=P.os;R=P.path.normalize;fa=p.existsSync;ia=w.parse;da=t.resolve;la=g.tmpdir();X=ArrayBuffer.isView;Q=new TextDecoder;T=new TextEncoder;!0;"function"===typeof d.init&&d.init()}();d.MIME=d.mime={types:{html:"text/html",htm:"text/html",shtml:"text/html",css:"text/css",xml:"text/xml",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",
atom:"application/atom+xml",rss:"application/rss+xml",mml:"text/mathml",txt:"text/plain",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",htc:"text/x-component",png:"image/png",tif:"image/tiff",tiff:"image/tiff",wbmp:"image/vnd.wap.wbmp",ico:"image/x-icon",jng:"image/x-jng",bmp:"image/x-ms-bmp",svg:"image/svg+xml",svgz:"image/svg+xml",webp:"image/webp",woff:"application/font-woff",jar:"application/java-archive",war:"application/java-archive",ear:"application/java-archive",json:"application/json",
hqx:"application/mac-binhex40",doc:"application/msword",pdf:"application/pdf",ps:"application/postscript",eps:"application/postscript",ai:"application/postscript",rtf:"application/rtf",m3u8:"application/vnd.apple.mpegurl",xls:"application/vnd.ms-excel",eot:"application/vnd.ms-fontobject",ppt:"application/vnd.ms-powerpoint",wmlc:"application/vnd.wap.wmlc",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz","7z":"application/x-7z-compressed",cco:"application/x-cocoa",jardiff:"application/x-java-archive-diff",
jnlp:"application/x-java-jnlp-file",run:"application/x-makeself",pl:"application/x-perl",pm:"application/x-perl",prc:"application/x-pilot",pdb:"application/x-pilot",rar:"application/x-rar-compressed",rpm:"application/x-redhat-package-manager",sea:"application/x-sea",swf:"application/x-shockwave-flash",sit:"application/x-stuffit",tcl:"application/x-tcl",tk:"application/x-tcl",der:"application/x-x509-ca-cert",pem:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",xpi:"application/x-xpinstall",
xhtml:"application/xhtml+xml",xspf:"application/xspf+xml",zip:"application/zip",msi:"application/octet-stream",msp:"application/octet-stream",msm:"application/octet-stream",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",mp3:"audio/mpeg",ogg:"audio/ogg",m4a:"audio/x-m4a",
ra:"audio/x-realaudio","3gpp":"video/3gpp","3gp":"video/3gpp",ts:"video/mp2t",mp4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mov:"video/quicktime",webm:"video/webm",flv:"video/x-flv",m4v:"video/x-m4v",mng:"video/x-mng",asx:"video/x-ms-asf",asf:"video/x-ms-asf",wmv:"video/x-ms-wmv",avi:"video/x-msvideo"},defaultType:"application/octet-stream"};var W,O,ja,ka,ha,ea;d.server="suki";d.extention=".sjs";d.moduleExtention=".sjs.js";d.nullObj=Object.freeze({});d.nullFunc=function(){}.bind(d.nullObj);(function(){function p(l){l=
l||{};var y=Number(l.ports||l.port),v=y&&"port"||"",x=d.root=l.webRoot?w(l.webRoot):{"*":"*"},G=d.extention+".html";var D=0;var F=[!1,["127.0.0.1","10.8.*.*"]];if(b)return a.log("Duplicated initialization ignored."),this;b=!0;d.version||(d.version="");d.password="public-defualt-8NJzmhSCpQutF7EY6E6WdxrRy9txtN93";d.salt="8NJzmhSCpQutF7EY6E6WdxrRy9txtN93";D=Math.floor(Number(D));d.timeZoneString=-12<D&&12>D?("+0"+String(D)).replace("0-","-0").replace("00","0").replace("010","10").replace("011","11").replace("+-",
"-")+":00":"+00:00";d.timeZoneOffset=0<D<12?3600*D||0:0;if(v&&null===d.root)d.log("Invalid webRoot config.","e");else{d.unlocked=!0;d._locker=0;if(!x["*"]){D=Object.keys(x)[0];var f=x[D];if(f)x["*"]=f,a.log("no [*] sets, specify "+f+" (which hosts "+D+") as default webRoot.");else return d.log("Invalid config on webRoot.","c"),this}d.init=["",x,G,d.extention,l.tmp&&R(l.tmp)||la,null];d.tmpdir=d.init[4];d.logfile=d.init[5]=l.logfile&&path.normalize(l.logfile)||null;for(m of wa)m();F[0]&&d.nextTick(function(){d.allow(F[1]);
a.log("built-in firewall initialized;")});ra();sa();ta();qa();ua();O("sendET",!0);O("csBuilder",g);l._sendFileDir&&O("sendFileDir",l._sendFileDir);l._sendFileHeader&&O("sendFileHeader",l._sendFileHeader);l._proxySendFile&&O("proxySendFile",l._proxySendFile);var m=l._hotCodeDelaySeconds;"number"===typeof m&&(Infinity===m||/^[0-9]+$/.test(m.toString()))&&O("checkInterval",1E3*m);l._aliasHostHeader&&O("aliasHostHeader",l._aliasHostHeader);d.version||(d.version="suki.js_v11.0.15");"port"===v&&(U.listen(y,
l.bind||"::"),U.parse=ka,d.log(d.dateFormat(new Date)+" UTC\ndeno_v"+Deno.version.deno.replace("v","")+"\n"+d.version+" Javascript Application Server (HTTP listening on "+(l.bind||"::")+":"+y+")  \r\n"));return t}}function t(l){l(d)}function w(l){function y(D){var F="",f="",m="undefined"===typeof fetch;Array.isArray(D)&&("string"===typeof D[0]&&(F=D[0]),"string"===typeof D[1]&&(f=D[1]));"string"===typeof D&&(F=D);if("http://"===F.substring(0,7)||"https://"===F.substring(0,8)){if(m)return d.log("Invalid remote webRoot: "+
F+" (runtime has no fetch api so networking webRoot could not be used)","e"),null;"/"===F.slice(-1)&&(F=F.slice(0,-1));if(~F.indexOf(" "))return d.log("Invalid remote webRoot: "+F,"e"),null;f&&=R(f);return F+" "+f}if(F)return F=R(F)," "+F;d.log("Invalid webRoot: "+F,"e");return null}var v=l,x,G=!0;if("string"===typeof l||Array.isArray(l))v={"*":l};for(x in v)v[x]=y(v[x]),G&&v[x]&&(G=!1);return G?null:v}function g(l,y,v){l=l.trim();var x={},G=h[0].test(l),D={app:function(C){return C&&"string"===typeof C?
this.app=d._setAC(C,{_name:C}):null}},F=/\\/g;v="var __filename='"+(v||"").replace(F,"\\\\")+"',__dirname='"+(y||"").replace(F,"\\\\")+"';";var f;try{if(G){var m=l.match(h[1]);var r=m.length;var z=m.join("").replace(h[2],"");for(f=0;f<r;f++)l=l.replace(m[f],"");var A=v+"try{"+z+"\n}catch(e){return function (R){return R.error('CS AREA A HAS AN ERROR.\\n'+(e.stack||e),'500');};}return "+q+"function (R,tplVals,_get,_post,_cookie,_server){if(!suki.unlocked){return R.error('Server is too busy due to [Critical Error: uncaughtException(see logs)].','500.13');}try{"+
l+"\n}catch(e){R.error('CS AREA B HAS AN ERRROR.\\n'+(e.stack||e),500)};};"}else A=v+"return "+q+"function (R,tplVals,_get,_post,_cookie,_server){if(!suki.unlocked){return R.error('Server is too busy due to [Critical Error: uncaughtException(see logs)].','500.13');}try{"+l+"\n}catch(e){return R.error('CS AREA B HAS AN ERROR.\\n'+(e.stack||e),500);}};";x.cs=(new c("require,suki",A)).bind(D)(e(y),d)}catch(C){x.cs=function(B){B.error("["+d.extention.substring(1)+" init error] "+(C.stack||C),500)}}return x}
function e(l){function y(v){var x=!String(v).isAbs()&&!~v.indexOf("node:")&&(~v.indexOf("/")||~v.indexOf("\\"));return u(x?l+"/"+v:v,M)||u(l+"/"+v,M)}y.cache=M.cache;y.extensions=M.extensions;y.resolve=function(v){var x=!String(v).isAbs()&&!~v.indexOf("node:")&&(~v.indexOf("/")||~v.indexOf("\\"));try{var G=M.resolve(x?l+"/"+v:v)}catch(D){G=""}return G||M.resolve(l+"/"+v)};return y}function u(l,y){y||=M;try{var v=y(l)}catch(x){if(l.isAbs()||~l.indexOf("node:"))d.log("'libExists()' Pre Loading Failed: "+
l,"w"),console.log(x.stack||x)}return v}var b=!1,a={log:function(l){console.log(l)}},c=Object.getPrototypeOf(function(){}).constructor,q="async ";try{eval("(async function(){})")}catch(l){q=""}var h=[RegExp("\\/\\/\\<\\!\\-\\-([\\s\\S]*?)\\/\\/\\-\\-\\>"),RegExp("\\/\\/\\<\\!\\-\\-[\\s\\S]*?\\/\\/\\-\\-\\>","g"),RegExp("\\/\\/\\<\\!\\-\\-|\\/\\/\\-\\-\\>","g")],k,n=[];d.init=function(l){var y;l&&void 0===k&&(k=l);setTimeout(function(){if(M&&k){p(k);k=null;for(y of n)y(d);n.length=0}},0);return function(v){"function"===
typeof v&&n.push(v)}}})();(function(){String.prototype.isAbs=function(){return"/"===this.charAt(0)||"\\"===this.charAt(0)||":"===this.charAt(1)};String.prototype.toContextString=function(){return JSON.stringify([this]).slice(1,-1)};var p=function(t){return"\\"+t};String.prototype.escapeMarkdown=function(t){var w="[\\.\\`\\*\\_\\{\\}\\[\\]\\<\\>\\(\\)\\#\\+\\-\\!\\|\\\\]",g;if(t){t=t.split("");var e=t.length;for(g=0;g<e;g++)w=w.replace("\\"+t[g],"")}return this.replace(new RegExp(w,"g"),p)}})();(function(){function p(b,
a,c){var q=a.replace(/set-cookie/g,"Set-Cookie"),h=encodeURIComponent(b)+"=",k=q.indexOf(h);if(~k){k+=h.length;var n=q.indexOf(";",k);~n||(n=q.length);a=q.substr(n);if(~a.indexOf(h))return p(b,a);try{var l=decodeURIComponent(q.substring(k,n))}catch{return}if(!0===c){n=q.indexOf("Set-Cookie",k);n=~n?n:q.length;a=q.substring(k+l.length,n);b={name:b,value:l};c=a.split(";");l=c.length;for(a=0;a<l;a++)q=c[a].trim(),""!==q&&(h=q.indexOf("="),~h?b[q.substr(0,h)]=q.substr(h+1):b[q]=!0);return b}return l}}
function t(b,a){return"~"+a.toUpperCase()+":"}function w(b,a){return"object"===typeof b?a?b:JSON.stringify(b,g,"\t"):"^"+typeof b+":\\{: "+String(b)}function g(b,a){return w(a,Array.isArray(a)?"^array:\\{: ":"^"+typeof a+":\\{: ")}d.objectToArray=function(b){return Array.prototype.slice.call(b,0)};d.next=new Function("...a","return a");var e=[/\\|%5c/gi,/&(?!\w+;)/g,/</g,/>/g,/"/g,/'/g,/%26/g,/%3c/gi,/%3e/gi,/&#37;22/g,/%/g];d.clean=function(b){if(!b)return 0===b?"0":"";b=String(b).replace(e[0],"").replace(e[1],
"&amp;").replace(e[2],"&lt;").replace(e[3],"&gt;").replace(e[4],"&quot;").replace(e[5],"&#39;");try{var a=decodeURIComponent(b)}catch{return b.replace(e[0],"&#37;5C").replace(e[6],"&#37;26").replace(e[7],"&#37;3C").replace(e[8],"&#37;3E").replace(e[9],"&#37;22")}return b===a?b:b.replace(e[10],"&#37;")};d.passAgentHeaders=function(b){return{accept:"text/html, application/xhtml+xml, */*","accept-language":"zh-CN,zh;q=0.8,en;q=0.6","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87."+
(b?Math.random().toFixed(4):"2883")+".87 Safari/537.36","cache-control":"max-age=0",dnt:"1",connection:"keep-alive"}};d.randomArray=function(b,a,c){return b instanceof Array?(a=a&&c?Math.floor(Math.random()*(c-a+1)+a):Math.floor(Math.random()*b.length),b[a]):null};d.parseCookieHeader=p;d.creatCookieHeader=function(b){var a,c=b.hours;(a=b.expires)?a="; expires="+a:c&&(a=new Date,a.setTime(a.getTime()+Math.floor(36E5*c)),a=a.toUTCString(),a="; expires="+a);return"Set-Cookie: "+b.name+"="+encodeURIComponent(b.value)+
(a||"")+(b.domain&&"; domain="+b.domain||"")+(b.path&&"; path="+b.path||"")+(b.secure&&"; secure"||"")+(b.http&&"; HttpOnly"||"")};d.getIP=function(b,a){var c;if("object"!==typeof b)return"";switch(a){case "real":return b["x-real-ip"]||b["remote-addr"]||"";case "user":return a=(b["x-forwarded-for"]||"").split(","),(c=a.length)?a[c-1].trim():b["remote-addr"]||"";case "proxy":return a=(b["x-forwarded-for"]||"").split(","),a[0]?a[0].trim():b["remote-addr"]||"";default:return b["remote-addr"]||""}};d.log=
function(b,a){switch(a){case "n":d.logfile?d.writeMore(d.logfile,"\r\n[NOTE]"+b+"\r\n"):console.log("\r\n[NOTE]"+b+"\r\n");break;case "w":d.logfile?d.writeMore(d.logfile,"\r\n[WARN]"+b+"\r\n"):console.log("\r\n[WARN]"+b+"\r\n");break;case "e":d.logfile?d.writeMore(d.logfile,"\r\n[ERRO]"+b+"\r\n"):console.log("\r\n[ERRO]"+b+"\r\n");break;case "c":d.logfile?d.writeMore(d.logfile,"\r\n[CRIT]"+b+"\r\n"):console.log("\r\n[CRIT]"+b+"\r\n");break;default:d.logfile?d.writeMore(d.logfile,"\r\n"+b+"\r\n"):
console.log("\r\n"+b+"\r\n")}};var u=[/: "\^([a-z]+):\\\\{:/g,/"(,?)$/gm];d.obj2str=function(b){try{var a="object"===typeof b?w(b).replace(u[0],t).replace(u[1],"$1"):"^"+(typeof b).toUpperCase()+": "+String(b)}catch{return util.inspect(b)}return a};d.parseJSON=function(b,a){try{return JSON.parse(b)}catch{return a||null}};d.signature=function(b,a){var c=(b=String(b)).substr(0,b.indexOf("."));a=a||"";if(64===c.length){var q=b.substr(65);return c===d.sha256(q+d.salt+a)?b:d.sha256(b+d.salt+a)+"."+b}return d.sha256(b+
d.salt+a)+"."+b};d.rewriteURL=function(b){var a=0,c=d.rewriteRules,q=c.length,h=b.indexOf("?"),k=~h?b.substr(h+1):"";for(k&&(b=b.substr(0,h));a<q;a++)if(h=c[a],h=b.replace(h[0],h[1]),h!==b)return h.substr(1)+(k?(~h.indexOf("?")?"&":"?")+k:"");return k?b+"?"+k:b}})();var wa=[function(){try{d.sync=new Function("object","methed","next","return (...args)=>new Promise((resolve,reject)=>{var callback=(r,e,E)=>e&&undefined===r?reject(E||e):resolve(r);next&&(next.callback=callback);return 'string'===typeof methed?object[methed](...args,next?undefined:callback):(methed?methed.call(object,...args,next?undefined:callback):object(...args,next?undefined:callback))})"),
d.sync.mute=new Function("object","methed","next","return (...args)=>new Promise(resolve=>{var callback=r=>resolve(r);next&&(next.callback=callback);return 'string'===typeof methed?object[methed](...args,next?undefined:callback):(methed?methed.call(object,...args,next?undefined:callback):object(...args,next?undefined:callback))})")}catch(p){d.sync=null}},function(){var p=d.timeZoneOffset,t=d.timeZoneString,w=/[+\-][0-9]{2}:00$/;d.time=function(){return Math.floor((new Date).getTime()/1E3)+p};d.GMT=
d.UTC=function(g){return void 0===g||-12<g&&12>g?Math.floor((new Date).getTime()/1E3)+3600*(g||0):Date.parse(w.test(String(g).trimRight())?g:g+t)/1E3||0};d.getGMT=d.getUTC=function(g){var e=new Date;g&&e.setTime(e.getTime()+1E3*(Number(g)||0));return e.toUTCString()};d.dateFormat=function(g,e){g||="{YYYY}-{MM}-{dd} {hh}:{mm}:{ss}";e||"string"!==typeof g?("object"===typeof g||(g=new Date(1E3*g)),e||="{YYYY}-{MM}-{dd} {hh}:{mm}:{ss}"):(e=g,g=new Date,g.setTime(g.getTime()+1E3*p));return e.replace("{YYYY}",
g.getUTCFullYear()).replace("{MM}",g.getUTCMonth()+1).replace("{dd}",g.getUTCDate()).replace("{hh}",("0"+g.getUTCHours()).slice(-2)).replace("{mm}",("0"+g.getUTCMinutes()).slice(-2)).replace("{ss}",("0"+g.getUTCSeconds()).slice(-2))};d.timePassed=function(g,e){var u=e?new Date(Number(g+"000")):new Date;g=Math.floor(u.getTime()/1E3)-(e||g);e=Math.floor(g/3600);return 1>e?Math.floor(g/60)+"\u5206\u949f\u524d":24>e?e+"\u5c0f\u65f6\u524d":168>e?(u=60*(60*u.getHours()+u.getMinutes())+u.getSeconds()-(g-
86400*Math.floor(g/86400)),u=Math.floor((g+(0>u?86400+u:u))/86400),1===u?"\u6628\u5929":2===u?"\u524d\u5929":u+"\u5929\u524d"):5040>e?Math.floor(g/604800)+"\u5468\u524d":61320>e?Math.floor(g/2592E3)+"\u4e2a\u6708\u524d":e?Math.floor(g/31536E3)+"\u5e74\u524d":"\u65e5\u671f\u4e0d\u8be6"};d.calendar="".calendar;d.richCalendar="".richCalendar}]})(suki,node_modules);
