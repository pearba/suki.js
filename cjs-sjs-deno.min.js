var suki=module.exports={},node_modules={fs:require("node:fs"),url_utils:require("node:url"),querystring:require("node:querystring"),os:require("node:os"),path:require("node:path")};
(function(e,Y){async function qa(h,q,t,f,c,g,b,a){var d;try{var p=await Deno.open(t);var k=await p.stat()}catch(l){p=k=null}if(d=k&&k.isFile&&k.size){h[1][h[2]]&&(h[1][h[2]]=null);h=t.substr(t.lastIndexOf(".")+1);t=c["if-modified-since"];c=e.mime.types[h]||e.mime.defaultType;h=t&&(new Date(t)).getTime();t="1.1"===f;g=(new Date).toUTCString();b=k.mtime;if(h===b.getTime())q[t?"write":"end"]("HTTP/"+f+" 304 Not Modified\r\nDate: "+g+"\r\nServer: "+e.server+"\r\nCache-Control: max-age=864000\r\nLast-Modified: "+
b.toUTCString()+"\r\nConnection: "+(t?"keep-alive":"close")+"\r\n\r\n");else q.write("HTTP/"+f+" 200\r\nDate: "+g+"\r\nContent-Type: "+c+"\r\nContent-Length: "+k.size+"\r\nAccept-Ranges: none\r\nServer: "+e.server+"\r\nCache-Control: max-age=864000\r\nLast-Modified: "+b.toUTCString()+"\r\nConnection: "+(t?"keep-alive":"close")+"\r\n\r\n").streamFrom(p);return!0}0===d&&p.close();if(a)return h[0](),!0;try{p=await Deno.open(t+g),k=await p.stat()}catch(l){p=k=null}if(d=k&&k.isFile&&k.size)return h[0](p,
k,!1),!0;0===d&&p.close();try{p=await Deno.open(t+b),k=await p.stat()}catch(l){p=k=null}if(d=k&&k.isFile&&k.size)return h[0](p,k,!0),!0;0===d&&p.close();h[6].error("No such file(1).",404);return!0}async function ra(h,q,t){var f=this[3],c=this[1],g=this[2],b=this[6],a=this[5],d=this[7],p=c[4],k=p[g],l;if(!h)try{h=await Deno.open(g+f),q=await h.stat()}catch(m){h=q=null}if(!t){var n=q&&q.isFile&&q.size?q.mtime.getTime():0;if(k&&n===k.ts[0])return k.ck=!1,k.ts[1]=(new Date).getTime(),a(k,b),h&&h.close(),
!0;if(n){try{await h.read(l=new Uint8Array(q.size)),k=p[g]=this[8](Z.decode(l),d,aa(g+f)),k.ts=[n,(new Date).getTime()],b._r[6]=!1,a(k,b)}catch(m){b.error("Updating script failed(1).",500)}h.close();return!0}}h&&h.close();k=p[g]={cs:c[16]};k.ts=[n,(new Date).getTime()];b._r[6]=!1;b.flush();return!0}async function sa(){var h=this[3],q=this[1],t=this[2],f=this[6],c=this[5],g=this[7],b=q[4],a=b[t];try{var d=await fetch(t+h)}catch(p){return f.error("NCS network error.")}if(h=d.ok&&(d.headers.get("Last-Modified")||
1)||0){if(a&&h===a.ts[0])a.ck=!1,a.ts[1]=(new Date).getTime(),c(a,f);else try{a=b[t]=this[8](await d.text(),g),a.ts=[h,(new Date).getTime()],f._r[6]=!1,c(a,f)}catch(p){f.error("Updating script failed(2).",500)}return!0}this[0]=ha;c=await this[0]();c.fn?(a=b[t]={cs:q[16]},a.ts=[h,(new Date).getTime()],f._r[6]=!1,f.flush()):c.error?f.error("View renderring error.\n"+c.error,500):f.error("View file not exists.",404);return!0}async function ta(h,q){var t=this[1],f=this[6];h=h||f._r[5];f=t[18];var c,g;
try{var b=await Deno.open(h);var a=await b.stat()}catch(p){b=a=null}var d=a&&a.isFile&&a.size?a.mtime.getTime():0;if((c=f[h])&&d===c.mtime)return b.close(),q&&("function"===typeof q?q(c):q[0](c)),c;if(d){c={mtime:d};try{await b.read(g=new Uint8Array(a.size)),c.fn=t[19](Z.decode(g)),f[h]=c}catch(p){c.error=p.stack}}else c={};b&&b.close();q&&("function"===typeof q?q(c):q[0](c));return c}async function ha(h,q){var t=this[1],f=this[6];h=h||f._r[5];var c=t[18];try{var g=await fetch(h.replace("#","%23"))}catch(a){return f.error("NCS network error(view).")}var b=
g.ok&&(g.headers.get("Last-Modified")||1)||0;if((f=c[h])&&b===f.mtime)return q&&("function"===typeof q?q(f):q[0](f)),!0;if(b){f={mtime:b};try{f.fn=t[19](await g.text()),c[h]=f}catch(a){f.error=a.stack}}else f={};q&&("function"===typeof q?q(f):q[0](f));return!0}function ua(){function h(r,u,v,z){var B=w,F=B[0],y=u[1],E=y.indexOf("?"),H=~E&&y.substr(E+1);y=~E&&y.substr(0,E)||y;E=v.host||"*";var L;if(!(L=B[9][E])){L=E.indexOf(":");var J=~L&&E.substr(0,L)||E;L=J.substr(0,J.indexOf("."));J=w[9][J]||w[9][J.replace(L,
"*")]||w[9]["*"];~J.indexOf("*")&&(J=J.replace(I,L));D===A?(A=0,w[9]={},w[9][E]=J):D>A++&&(w[9][E]=J);L=J}E=L;var M=E.indexOf(" ");L=0===M?"":E.substring(M+1);J=B[15];var K=J.length,U=B[1],O=(new Date).getTime(),N=u[2].substr(5);E=0===M?E.trimLeft():E.substring(0,M);this._args=[u,v,z];if(~y.indexOf("%"))try{y=decodeURIComponent(y)}catch(V){return this._r=C(r,"",N),this.error("Invalid unicode character in URL.",400)}"/"===y.charAt(y.length-1)&&(y=y+"index"+J);u=y.slice(-K);if(B[2]&&F._defend(F.getIP(v),
B[2]))return this._r=C(r,"",N),this.error("Block settings taking effect to prevent insecurity access.",404);K=(u=J===u)?y.substr(0,y.length-K):y;M=E+K;if(H){v.querystring=H;try{var Q=B[5](H,"&")}catch(V){e.log("HTTP QUERYSTRING parsing error: \n"+H+"\n"+V.stack,"e"),Q=B[10]}}if(v.cookie)try{var R=B[5](v.cookie,"; ")}catch(V){e.log("HTTP COOKIE parsing error: \n"+v.cookie+"\n"+V.stack,"e"),R=B[10]}if(z&&fa(z))if(v["content-type"]&&~v["content-type"].indexOf("application/dns-message"))var P={dns:z};
else try{P=Z.decode(z),P="{"===P.charAt(0)||"["===P.charAt(0)?JSON.parse(P):B[5](P)}catch(V){P=z}z=[Q||B[10],R||B[10],P||B[10],v];this._r=[r,"",N,O,K,M+B[1],!0,{suki:F,_server:v,_get:z[0],_post:z[2],_cookie:z[1]},!1,!0,!0,[null,B,M,J,U,q,this,L||E,m]];if(F=B[4][M]){z=F.ts;if(F.ck||B[3]>O-z[1]){q(F,this);return}F.ck=!0}this._r[9]=!1;if("/"===y.slice(-1)||~y.replace("\\","..").indexOf("..")||~y.indexOf(".sjs."))this.error("Please examine the config of WebServer to prevent this issue of security(1).",
404);else if(F=this._r[11],~F[7].indexOf("://")&&(F[7]=""),(z=~E.indexOf("://"))?(E=L,F[0]=sa):F[0]=ra,u)F[0]();else if(B[1]===y.slice(-J.length-5)||B[17]===y.slice(-B[17].length)||B[11].test(y))this.error("Please examine the config of WebServer to prevent this issue of security(2).",404);else if(E)qa(F,r,E+y,N,v,J,U,z);else F[0]()}function q(r,u){var v=u._r[7];r.cs(u,v,v._get,v._post,v._cookie,v._server)}function t(r,u){var v=x;void 0!==this.skid||(this.skid=v[0].id?"-"+v[0].id:"-suki");if(void 0===
r||r)g(this,r,[f,this]);else if(fa(u)){r=this._r;v=x;var z=new Date;var B=r[2];var F="1.1"===B;var y=this.contentType;var E=z.getTime()-r[3];try{r[0].write("HTTP/"+B+" "+this.status+"\r\nDate: "+z.toUTCString()+(r[10]?"\r\nCache-Control: must-revalidate, no-cache, private\r\nExpires: -1\r\nPragma: no-cache":"")+"\r\nContent-Type: "+y+(this.hasOwnProperty("charset")?"; charset="+this.charset:"text"===y.substr(0,4)&&"; charset="+this.charset||"")+"\r\nContent-Length: "+u.byteLength+"\r\nServer: "+v[0].server+
r[1]+(this.sendET&&isNaN(E)&&"\r\nX"+this.skid+": N/A"||"\r\nX"+this.skid+": "+E)+(r[6]&&", 1"||", -1")+"\r\nConnection: "+(F?"keep-alive":"close")+"\r\n\r\n",this.encoding),r[0][F&&"write"||"end"](u),this._r=null}catch(H){e.log("Socket Writing Error.\n"+(H.stack||H),"e")}}else c("string"===typeof u?u:u&&String(u)||"",!0,this)}function f(r){var u=this[1];r.fn?c(r,!0,u):u.error("view file not exists.(1)",404)}function c(r,u,v){var z=v._r,B=x,F=new Date;try{var y="string"===typeof r?r:r.fn(z[7])}catch(K){return v.error("[template renderring error]\n"+
(K.stack||K),500)}r=z[2];var E="1.1"===r;if("string"===typeof y){var H=v.contentType;var L=""!==y&&v.eid;var J=v.json;var M=F.getTime()-z[3];L&&"text/javascript"!==H&&(H="text/javascript",J.html=~y.indexOf("\n")?y.replace(B[9],""):y,y='window["'+L+'"]='+JSON.stringify(J)+";");try{z[0][E&&"write"||"end"]("HTTP/"+r+" "+v.status+"\r\nDate: "+F.toUTCString()+(z[10]?"\r\nCache-Control: must-revalidate, no-cache, private\r\nExpires: -1\r\nPragma: no-cache":"")+"\r\nContent-Type: "+H+(v.hasOwnProperty("charset")?
"; charset="+v.charset:"text"===H.substr(0,4)&&"; charset="+v.charset||"")+"\r\nContent-Length: "+ba.encode(y).length+"\r\nServer: "+B[0].server+z[1]+(v.sendET&&isNaN(M)&&"\r\nX"+v.skid+": N/A"||"\r\nX"+v.skid+": "+M)+(u&&z[6]&&", 1"||(u?", -1":", -2"))+"\r\nConnection: "+(E?"keep-alive":"close")+"\r\n\r\n"+y,v.encoding),v._r=null}catch(K){console.log("Socket Writing Error.\n"+(K.stack||K))}return v}return v.error("template rendering error",500)}function g(r,u,v){var z=r._r;if(void 0===u)r=z[5];else if("string"===
typeof u)r=~u.indexOf("://")?u:u.isAbs()?ia(z[5],u):z[5].replace(r.tpE,"#"+u+r.tpE);else return v[1].error("Invalid template branch: "+String(u)+", omit or set to {undefined} for main template rendering.");if(l[r]&&z[9])v[0](l[r]);else z=z[11],z[0]=~r.indexOf("://")?ha:ta,z[0](r,v)}function b(r){if(r.error)this[1].error(r.error);else{a:{try{var u=r.fn(this[1]._r[7])}catch(v){r=[void 0,"template rendering error"+(v.stack||v)];break a}r=[u,null]}r[0]?"function"===typeof this[2]?this[2](r[0],this[1]):
this[2][0](r[0],this[1]):this[1].error(r[1])}}function a(){return""}var d=h.prototype,p=ja,k=1E4,l={},n=ka,m;da=h;W=function(r,u){var v=la;r&&("aliasHostHeader"===r?(v.preferAliasHost=!0,v.aliasHostHeader=String(u).trim().toLowerCase()):"checkInterval"===r?k=w[3]=u:"csBuilder"===r?m=u:(d[r]=u,"_f"===r&&(w[2]=u)));return da};d.tpE=e.init[2];d.csE=e.init[3];d.status="200";d.charset="UTF-8";d.encoding="utf8";d.contentType="text/html";d.sendET=d._g=d._f=!1;d.eso="";d.proxy="";d.cacheProxy=d.proxyCache=
"";d.error="";d.proxySendFile=!1;d.sendFileDir="";d.sendFileHeader="X-Accel-Redirect";d.buffer="";d.getTplVals=function(){return this._r[7]};d.setContentType=function(r){this.contentType=r;return this};d.flush=t;d.header=function(r){var u=this._r;u[1]+="\r\n"+r;u[10]&&(~r.indexOf("xpires:")||~r.indexOf("ontrol:"))&&(u[10]=!1);return this};d.redirect=function(r,u){var v=this.eid;this._r[1]+="\r\nLocation: "+(v?r+(~r.indexOf("?")?"&":"?")+"__eso="+v.substr(1):r);this.status=u||"302";return this.flush(!1)};
d.setCookie=function(r){if(this.eid){var u=this.json;var v=u.cookie;r=e.creatCookieHeader(r);v?"string"===typeof v?u.cookie=[v,r]:v.push(r):u.cookie=r}else this._r[1]+="\r\n"+e.creatCookieHeader(r);return this};d.deleteCookie=function(r,u){r="Set-Cookie: "+r+"=deleted; expires=Thu, 09 May 1990 09:17:25 GMT"+(u?"; domain="+u:"");var v;this.eid?(u=this.json,(v=u.cookie)?"string"===typeof v?u.cookie=[v,r]:v.push(r):u.cookie=r):this._r[1]+="\r\n"+r;return this};d.deleteCookies=function(r,u){var v="Set-Cookie: "+
r+"=deleted; expires=Thu, 09 May 1990 09:17:25 GMT"+(u?"; domain="+u:"");r="Set-Cookie: "+r+"=deleted; expires=Thu, 09 May 1990 09:17:25 GMT; path=/"+(u?"; domain="+u:"");var z;this.eid?(u=this.json,(z=u.cookie)?"string"===typeof z?u.cookie=[z,v,r]:z.push(v,r):u.cookie=[v,r]):this._r[1]+="\r\n"+v+"\r\n"+r;return this};d.next=function(){arguments.R=arguments.r=this;return arguments};d.session=function(r,u){var v;if(this.eid)return this;u||=!0===r;(v=this._r[7]._cookie.SJSSESSIONID)?this.session=v:
(v=this.session=e.MD5(this._r[3]+Math.random().toString()),this.setCookie({name:"SJSSESSIONID",value:v,hours:!0!==r&&0<r&&r,secure:u,http:!0}));return this};d.sendFile=function(r,u){var v=this._r,z=new Date,B=v[2],F="1.1"===B;if(!v)return void 0===v?this.error("flush(): invalid 'this'."):this;if(r.isAbs()&&n(r)){u||="application/force-download";if(!~u.indexOf("/")){var y=u;u="application/force-download"}v[0][F&&"write"||"end"]("HTTP/"+B+" 200\r\nDate: "+z.toUTCString()+"\r\nContent-Type: "+u+"\r\nContent-Length: "+
fs.statSync(r).size+("application/force-download"===u?"\r\nContent-Disposition: attachment; filename="+(y||path.basename(r)):"")+"\r\nServer: "+e.server+v[1]+(this.sendET?"\r\nX-SR: "+(z-v[3]):"\r\nX-SR: N/A")+(v[6]?", 1":", -1")+"\r\nConnection: "+(F?"keep-alive":"closed")+"\r\n\r\n",this.encoding);fs.createReadStream(r).pipe(v[0]);this._r=null}else return this.error("No such file : "+r,404);return this};var w=[e,d.tpE,d._f,k,{},ma,null,t,e.init[0],e.init[1],e.nullObj,RegExp("\\.\\.|\\\\|\\/\\/|\\/_suki"),
n,null,RegExp("\\/","g"),d.csE,function(r){r.flush()},e.moduleExtention,l,p],x=Array(9);x[0]=e;x[9]=/[\f\n\r\t\v]/g;d.getFlush=function(r,u){void 0===u?g(this,u,[b,this,r]):g(this,r,[b,this,u]);return this};e.getRender=function(r){try{var u=x[6](r)}catch(v){u=a}return u};e.render=function(r,u){try{var v=u(r)}catch(z){v=""}return v};var A=0,D=3E3,I=RegExp("\\*","g");try{var C=new Function("...a","return a")}catch(r){C=function(){return arguments}}}function va(){function h(a){var d=a.length,p=1,k;this.got=
[!1,null,0,[],0,0,!1];for(this.post={};p<d;p++){var l=a[p].indexOf("\r\n\r\n");if(!~l){this.got[0]=!0;break}var n=a[p].substring(0,l);l=a[p].substr(l+4);this.got[2]++;var m=n.indexOf("name=")+6;var w=n.indexOf('"',m);m=n.substring(m,w);var x=n.indexOf("filename=");w=~x;var A=this.post;(k="[]"===m.slice(-2))&&(m=m.slice(0,-2));if(w){this.got[4]++;var D=n.indexOf('"',x+10);n=n.substring(x+10,D);n={name:n,size:l.length-2,error:!1,purge:t};n.tmpName=path.normalize(b+"/sukijs_"+m+"."+e.random(10)+"."+
(new Date).getTime());b&&l?(n._fs=fs.createWriteStream(n.tmpName,g),q(n,this.got),this.got[3].push(n._fs),"\r\n"===l.slice(-2)?(l=l.slice(0,-2),n._fs.end(l,"binary")):n._fs.write(l,"binary")):(n.tmpName="",n.error=!0);l=n}else l=l.slice(0,-2),l=65537>l.length&&this.binaryToUTF8(l)||"";k?(A[m]||(A[m]=[]),A[m].push(l)):A[m]=l;p===d-1&&(this.last=[m,w])}}function q(a,d){setTimeout(function(){a._finished?fs.unlink(a.tmpName,c):(a.error=!0,a.tmpName="",a.size=0,a._fs.end())},3E4);a._fs.on("error",function(){a.error||
(a.error=!0,a.tmpName="",a.size=0,a._fs.end())});a._fs.on("finish",function(){a._finished=!0;a.error&&(d[6]=!0,fs.unlink(a.tmpName,c));++d[5]===d[4]&&d[0]&&(d[3].length=0,d[1]&&d[1](),d.length=0)})}function t(){fs.unlink(this.tmpName,c)}var f=na={},c=e.nullFunc,g={mode:438,flag:"r+"},b=e.init[4];f.initPost=function(a,d,p,k,l,n,m,w){var x=Number(l["content-length"]),A=l["content-type"]||"",D;A=(0===A.indexOf("application/x-www-form-urlencoded")||0===A.indexOf("application/json")||0===A.indexOf("application/dns-message"))&&
0<x||"multipart/form-data"===A.substr(0,19)&&(D=A.split("="))&&2===D.length&&D[1];n=w-(n.length||0);m=m-n-4;n=-1<m&&d.slice(n+4);m=x===m;if(A&&x)if(!0===A&&m)a._b=0,new p(a,k,l,n);else if(m){var I=new h(d.toString("binary").split("--"+A));a._b=0;I.got[1]=function(){new p(a,k,l,I.post)}}else a.raw=n,a._p=[k,l],D?(a.maxUploadSize=104857600,a.__b=A,a._b=65537):a._b=x;else a._b=-1,a.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : Not support for This so called 'HTTP-POST'..."),e.log("Net socket denied.(Not support for This so called 'HTTP-POST'...)",
"n")};f.post=function(a,d,p,k){var l=a.raw,n=l.length,m=e.creatBuffer(d.length+n);if(void 0!==l.length&&0<k&&65537>k)l.copy(m,0,0),d.copy(m,n,0),k===m.length?(a._b=0,new p(a,a._p[0],a._p[1],m)):a.raw=m;else if(65537===k)f._upload(a,d,p);else{a.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : BAD POSTING REQUEST.");try{d.length=0,a.destroy()}catch{}}};f._upload=function(a,d,p){var k=a._uploader;if(k)if(100<k.got[2]||a._uploaderL>a.maxUploadSize)a._b=-1,a.end("HTTP POST too Large!"),k.got[1]=null,console.log("HTTP POST too Large!\nForbidden for ever on this actived socket.");
else{var l=d.toString("binary");k.add(l.split("--"+a.__b),d);k.got[0]?(a._b=0,a._uploader=null,k.got[4]?k.got[1]=function(){new p(a,a._p[0],a._p[1],k.post)}:new p(a,a._p[0],a._p[1],k.post)):a._uploaderL+=d.length}else{var n=a.raw;var m=n.length;l=e.creatBuffer(d.length+m);n.copy(l,0,0);d.copy(l,m,0);d=a.__b;n=l.toString("binary");k=new h(n.split("--"+d));k.got[0]?(a._b=0,k.got[4]?k.got[1]=function(){new p(a,a._p[0],a._p[1],k.post)}:new p(a,a._p[0],a._p[1],k.post)):(a._uploaderL=l.length,a._uploader=
k)}};h.prototype.add=function(a,d){var p=a.length,k=this.last[0],l;if(1<p){if(this.last[1]&&a[0]){var n=this.post[k];Array.isArray(n)&&(n=n[n.length-1]);n.size+=a[0].length;b&&("\r\n"===a[0].slice(-2)&&(a[0]=a[0].slice(0,-2)),n._fs.end(a[0],"binary"))}for(k=1;k<p;k++){d=a[k].indexOf("\r\n\r\n");if(!~d){this.got[0]=!0;break}n=a[k].substring(0,d);d=a[k].substr(d+4);this.got[2]++;var m=n.indexOf("name=")+6;var w=n.indexOf('"',m);m=n.substring(m,w);var x=n.indexOf("filename=");w=~x;var A=this.post;(l=
"[]"===m.slice(-2))&&(m=m.slice(0,-2));if(w){this.got[4]++;var D=n.indexOf('"',x+10);n=n.substring(x+10,D);n={name:n,size:d.length-2,error:!1,purge:t};n.tmpName=path.normalize(b+"/sukijs_"+m+"."+e.random(10)+"."+(new Date).getTime());b&&d?(n._fs=fs.createWriteStream(n.tmpName,g),q(n,this.got),this.got[3].push(n._fs),"\r\n"===d.slice(-2)?(d=d.slice(0,-2),n._fs.end(d,"binary")):n._fs.write(d,"binary")):(n.tmpName="",n.error=!0);d=n}else d=d.slice(0,-2),d=65537>d.length&&this.binaryToUTF8(d)||"";l?(A[m]||
(A[m]=[]),A[m].push(d)):A[m]=d;k===p-1&&(this.last=[m,w])}}else n=this.post[k],this.last[1]?(Array.isArray(n)&&(n=n[n.length-1]),n.size+=d.length,b&&n._fs.write(d)):(a=n+a[0],this.post[k]=65537>a.length&&this.binaryToUTF8(a)||"")};h.prototype.binaryToUTF8=e.binaryToUTF8}function wa(){var h=la={},q={GET:!0,POST:!0};oa=function(t,f){var c=f._b,g=1,b=da,a=na,d,p;if(Number(c))a.post(f,t,b,c);else{var k=t.length;var l=(c||"")+Z.decode(t);var n=l.indexOf("\r\n\r\n");var m=l.substring(0,4).trim();var w=
e.rewriteRules;if(q[m])if(~n){var x=l.substring(0,n).trim();var A=ba.encode(x).length;var D=x.length===A;var I=x.split("\r\n");var C=I.length;if((p=1<C&&I[0].trim().split(" "))&&3===p.length){for(l={};g<C;g++){var r=I[g];var u=r.indexOf(":");if(~u)l[r.substring(0,u).trim().toLowerCase()]=r.substring(u+1).trim();else{l=null;break}}h.preferAliasHost&&l[h.aliasHostHeader]&&(l["x-real-host"]=l.host)&&(l.host=l[h.aliasHostHeader]);w&&(p[1]=e.rewriteURL(p[1]))}else l=null;l&&D||l.referer&&x.length-l.referer.length===
A-(d=ba.encode(l.referer).length)?(l["remote-addr"]=f.remoteAddr,l.url=p[1],l.method=m,d&&d!==l.referer.length&&(l.referer=encodeURIComponent(l.referer)),"GET"===m?(f._b=0,new b(f,p,l,null)):a.initPost(f,t,b,p,l,c,k,n)):_reInit(f,l&&p[2],l&&p[1],!D)}else 8192<l.length?(f._b=-1,f.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : HTTP header too long! limited "+l.length+"."),console.log("HTTP header too long!"+l.length+"\nForbidden for ever on this actived socket.")):f._b=l;else f._b=-1,f.end("HTTP/1.0 400\r\n\r\nILLEGAL PROTOCOL : Not support for this method.\r\nSituation is logged."),
console.log("\r\nNot support for this method ("+m+").\r\n"+f.remoteAddr.hostname+"\r\n",l)}}}function xa(){var h=e.less,q=h?new h.Parser:!1,t={};h=c=>{t[c]=!0};var f=[/[\s;]*$/,/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,/[^\$\w\d]+/,/^\d/,/[\f\n\r\t\v]/g,/<(script.*?>)([\s\S]*?)<\/(script)/gi,RegExp("\x3c!--.*?<<scri_pt>","g"),/(`\{|\{)[\s]*?\[[\s]*?#[\s]*?(.*?)[\s]*?\][\s]*?(\}`|\})(.*)(\1)[\s]*?\[[\s]*?\/[\s]*?(\2)[\s]*?\][\s]*?(\3)/g,/(`\{|\{)[\s]*?\[[\s]*?(.*?)[\s]*?\][\s]*?(\}`|\})/g,/\\'/g,/s\+='s\+=/g,
/(`\{|\{)[\s]*?\[[\s]*?(\.|this)[\s]*?\][\s]*?(\}`|\})/g,/(`\{|\{)[\s]*?\[[\s]*?(.*?)[\s]*?\][\s]*?(\}`|\})/g,/<(style[^>]+?less|style)(.*?)<\/style>/gi,/\/\/.*/g,RegExp("\\/\\*[\\s\\S]*?\\*\\/","g"),function(c,g,b,a){c=f;b=b.replace(c[19],"</scri_pt>>").replace(c[20],"<<scri_pt>");return"<"+g+b.replace(c[24],":\\/\\/").replace(c[14],"").replace(c[15],"").replace(c[25],c[28])+"</"+a},function(c,g,b,a){var d=b.indexOf(">");c=f;b=b.replace(f[23],"");if(q&&~g.toLowerCase().indexOf("less")&&~d){var p=
b.substr(d+1);g=g.replace(" less","");q.parse(p,function(k,l){b=b.substr(0,d)+">"+(k?p:l.toCSS({compress:!0}))})}return"<"+g+b.replace(c[25],c[28])+"</style>"},function(c,g,b,a,d){return"';var i=0,l=o."+b+".length,d=o."+b+";for(;i<l;i++){s+='"+d.replace(f[11],"'+d[i]+'").replace(f[12],"'+(d[i]['$1']||('undefined'===typeof $1?'':$1))+'")+"'}s+='"},RegExp("\x3c!--","g"),/<<scri_pt>/g,/<\/scri_pt>>/g,/<<scri_pt>/g,RegExp("\\/\\*.*?\\*\\/","g"),RegExp(":\\/\\/","g"),/([^\\])\\([^\\])/g,/<style|<less/i,
/<script/i,function(c,g,b){return g+"\\\\"+b},/^[a-zA-Z0-9_$]+$/,/s\+='';/g,/^[\s]*?=[\s]*?/];"Math JSON encodeURI encodeURIComponent decodeURI decodeURIComponent escape unescape eval isNaN isFinite parseInt parseFloat null undefined NaN Infinity Object Array Function Boolean String Number Date RegExp Error".split(" ").forEach(h);"break case catch continue debugger default delete do else false finally for function if in instanceof new return switch this throw true try typeof var void while with const".split(" ").forEach(h);
"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile arguments let yield".split(" ").forEach(h);ja=function(c){c=c.replace(/\\/g,"\\\\");var g={},b="",a=f,d=function(k){if(k&&!t[k]&&!a[3].test(k)&&!g[k]){if("s"===k||"o"===k)throw"There must not be '"+k+"' in template as it is taken internally.";g[k]=!0;b+=","+k+"=o."+k+"||(0===o."+k+"?'0':'')"}},
p=a[27].exec(c);(p&&=c.indexOf(p[0]))&&(c=c.substr(0,p)+c.substr(p).replace(a[5],a[16]));c=c.replace(a[4],"");(p=a[26].exec(c))&&(p=c.indexOf(p[0]))&&(c=c.substr(0,p)+c.substr(p).replace(a[13],a[17]));p=c.indexOf("\x3c!--");~p&&(c=c.substr(0,p)+c.substr(p).replace(a[6],"").replace(a[21],"\x3c!--").replace(a[22],"<<scri_pt>"));c=c.split("'").join("\\'").replace(a[7],a[18]).replace(a[8],function(k,l,n){l=n.replace(a[9],"'");l=l.trim();k="="===l.charAt(0)||a[29].test(l)?"';s+="+l.replace(a[31],"").replace(a[0],
"")+";s+='":"';"+l+";s+='";l=l.replace(a[1],"");l.split(a[2]).forEach(d);return k})+"';return s;";c="var s=''"+b+";"+("s+='"+c).replace(a[10],"s+=");return new Function("o",c.replace(a[30],""))}}function ya(){var h={500:["500 Internal Server Error","Current service is temporarily unavailable."],502:["502 Bad gateway","Networking is temporarily unavailable."],503:["503 Service Unavailable","Server is busy, pleas try again later."],400:["400 Bad Request","Invalid HTTP request."],403:["403 Forbidden",
"Access Denied."],404:["404 Not Found","The requested URL is not found on this server."]};da.prototype.error=function(q,t){var f=this._r;if(f&&f.length){this.status=t||"500";this.contentType="text/html";t=this.flush;q=String(q||"");var c=String(this.status),g=h[c];q=g&&"<!DOCTYPE HTML><html><head><title>"+(g&&g[0]||c)+'</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><style>html, body{margin:0 16px;padding:0;font-family:Varela Round,Helvetica,Arial,sans-serif;font-size:16px;line-height:26px}body{background:#fff;color:#222}h1{color:#205080;font-size:20px;font-weight:100;letter-spacing:0.2ex;text-shadow:#d0e0ea 0 1px;line-height:40px;border-bottom:2px solid #c0d0e0}h1:before{content:"";content:"\\203a\\2002"}div{font-size:12px;background:#cccccc;padding:5px;padding-left:10px}</style></head><body><h1>'+
(g&&g[0]||c)+"</h1><p>"+(g&&g[1]||"")+"</p><div><p><strong>Detail:</strong></p><p>"+q.replace("<","&lt;").replace(">","&gt;").replace(/\n|\r\n/g,"<br>")+"</p><div></body></html>"||q;t.call(this,null,q);f.length=0}else q=String(q).replace(/<br>/gi,"\r\n"),e.log("a sync error occured after REST.flush() SO it would not display on webpage: \r\n"+q,"c");return this}}var ca=class{static parse=null;static listen(h,q){ca._connLoop(Deno.listen({port:h,hostname:q,transport:"tcp"}))}static async _connLoop(h){for await(let q of h)ca._packetLoop(q)}static async _packetLoop(h){var q=
new za(h);for await(let t of h.readable)ca.parse(t,q)}};var za=class{_sock=null;_textEncoder=ba;remoteAddr="";_b=0;constructor(h){this._sock=h;this.remoteAddr=h.remoteAddr.hostname}write(h){"string"===typeof h?this._sock.write(this._textEncoder.encode(h)):this._sock.write(h);return this}async end(h){h&&await ("string"===typeof h?this._sock.write(this._textEncoder.encode(h)):this._sock.write(h));this._sock.close()}streamFrom(h){h.readable.pipeTo(this._sock.writable,{preventClose:!0})}};var aa,ka,ma,
fa,ia,Z,ba,pa,T;!async function(){if("undefined"===typeof require){var h=(await MODULE).createRequire;T=h(IMU)}else T=require;h=Y.fs;var q=Y.url_utils,t=Y.querystring,f=Y.os;aa=Y.path.normalize;ka=h.existsSync;ma=t.parse;ia=q.resolve;pa=f.tmpdir();fa=ArrayBuffer.isView;Z=new TextDecoder;ba=new TextEncoder;!0;"function"===typeof e.init&&e.init()}();e.MIME=e.mime={types:{html:"text/html",htm:"text/html",shtml:"text/html",css:"text/css",xml:"text/xml",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",
js:"application/javascript",atom:"application/atom+xml",rss:"application/rss+xml",mml:"text/mathml",txt:"text/plain",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",htc:"text/x-component",png:"image/png",tif:"image/tiff",tiff:"image/tiff",wbmp:"image/vnd.wap.wbmp",ico:"image/x-icon",jng:"image/x-jng",bmp:"image/x-ms-bmp",svg:"image/svg+xml",svgz:"image/svg+xml",webp:"image/webp",woff:"application/font-woff",jar:"application/java-archive",war:"application/java-archive",ear:"application/java-archive",
json:"application/json",hqx:"application/mac-binhex40",doc:"application/msword",pdf:"application/pdf",ps:"application/postscript",eps:"application/postscript",ai:"application/postscript",rtf:"application/rtf",m3u8:"application/vnd.apple.mpegurl",xls:"application/vnd.ms-excel",eot:"application/vnd.ms-fontobject",ppt:"application/vnd.ms-powerpoint",wmlc:"application/vnd.wap.wmlc",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz","7z":"application/x-7z-compressed",cco:"application/x-cocoa",
jardiff:"application/x-java-archive-diff",jnlp:"application/x-java-jnlp-file",run:"application/x-makeself",pl:"application/x-perl",pm:"application/x-perl",prc:"application/x-pilot",pdb:"application/x-pilot",rar:"application/x-rar-compressed",rpm:"application/x-redhat-package-manager",sea:"application/x-sea",swf:"application/x-shockwave-flash",sit:"application/x-stuffit",tcl:"application/x-tcl",tk:"application/x-tcl",der:"application/x-x509-ca-cert",pem:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",
xpi:"application/x-xpinstall",xhtml:"application/xhtml+xml",xspf:"application/xspf+xml",zip:"application/zip",msi:"application/octet-stream",msp:"application/octet-stream",msm:"application/octet-stream",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",mp3:"audio/mpeg",
ogg:"audio/ogg",m4a:"audio/x-m4a",ra:"audio/x-realaudio","3gpp":"video/3gpp","3gp":"video/3gpp",ts:"video/mp2t",mp4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mov:"video/quicktime",webm:"video/webm",flv:"video/x-flv",m4v:"video/x-m4v",mng:"video/x-mng",asx:"video/x-ms-asf",asf:"video/x-ms-asf",wmv:"video/x-ms-wmv",avi:"video/x-msvideo"},defaultType:"application/octet-stream"};var da,W,na,oa,la,ja;e.server="suki";e.extention=".sjs";e.moduleExtention=".sjs.js";e.nullObj=Object.freeze({});e.nullFunc=
function(){}.bind(e.nullObj);e.platform=Y.os.platform();e.strlen=Buffer.byteLength;e.isLinux="linux"===e.platform;e.isWindows="win"===e.platform.substring(0,3);(function(){function h(m){m=m||{};var w=Number(m.ports||m.port),x=w&&"port"||"",A=e.root=m.webRoot?t(m.webRoot):{"*":"*"},D=e.extention+".html",I;var C=0;var r=[!1,["127.0.0.1","10.8.*.*"]];if(b)return a.log("Duplicated initialization ignored."),this;b=!0;e.version||(e.version="");e.password="public-defualt-8NJzmhSCpQutF7EY6E6WdxrRy9txtN93";
e.salt="8NJzmhSCpQutF7EY6E6WdxrRy9txtN93";C=Math.floor(Number(C));e.timeZoneString=-12<C&&12>C?("+0"+String(C)).replace("0-","-0").replace("00","0").replace("010","10").replace("011","11").replace("+-","-")+":00":"+00:00";e.timeZoneOffset=0<C<12?3600*C||0:0;if(x&&null===e.root)e.log("Invalid webRoot config.","e");else{e.unlocked=!0;e._locker=0;if(!A["*"]){C=Object.keys(A)[0];var u=A[C];if(u)A["*"]=u,a.log("no [*] sets, specify "+u+" (which hosts "+C+") as default webRoot.");else return e.log("Invalid config on webRoot.",
"c"),this}e.init=["",A,D,e.extention,m.tmp&&aa(m.tmp)||pa,null];e.tmpdir=e.init[4];e.logfile=e.init[5]=m.logfile&&path.normalize(m.logfile)||null;for(v of Aa)v();r[0]&&e.nextTick(function(){e.allow(r[1]);a.log("built-in firewall initialized;")});for(I of Ba)I();va();wa();xa();ua();ya();W("sendET",!0);W("csBuilder",f);m._sendFileDir&&W("sendFileDir",m._sendFileDir);m._sendFileHeader&&W("sendFileHeader",m._sendFileHeader);m._proxySendFile&&W("proxySendFile",m._proxySendFile);var v=m._hotCodeDelaySeconds;
"number"===typeof v&&(Infinity===v||/^[0-9]+$/.test(v.toString()))&&W("checkInterval",1E3*v);m._aliasHostHeader&&W("aliasHostHeader",m._aliasHostHeader);e.version||(e.version="suki.js_v11.0.17");"port"===x&&(ca.listen(w,m.bind||"::"),ca.parse=oa,e.log(e.dateFormat(new Date)+" UTC\ndeno_v"+Deno.version.deno.replace("v","")+"\n"+e.version+" Javascript Application Server (HTTP listening on "+(m.bind||"::")+":"+w+")  \r\n"));return q}}function q(m){m(e)}function t(m){function w(I){var C="",r="",u="undefined"===
typeof fetch;Array.isArray(I)&&("string"===typeof I[0]&&(C=I[0]),"string"===typeof I[1]&&(r=I[1]));"string"===typeof I&&(C=I);if("http://"===C.substring(0,7)||"https://"===C.substring(0,8)){if(u)return e.log("Invalid remote webRoot: "+C+" (runtime has no fetch api so networking webRoot could not be used)","e"),null;"/"===C.slice(-1)&&(C=C.slice(0,-1));if(~C.indexOf(" "))return e.log("Invalid remote webRoot: "+C,"e"),null;r&&=aa(r);return C+" "+r}if(C)return C=aa(C)," "+C;e.log("Invalid webRoot: "+
C,"e");return null}var x=m,A,D=!0;if("string"===typeof m||Array.isArray(m))x={"*":m};for(A in x)x[A]=w(x[A]),D&&x[A]&&(D=!1);return D?null:x}function f(m,w,x){m=m.trim();var A={},D=k[0].test(m),I={app:function(F){return F&&"string"===typeof F?this.app=e._setAC(F,{_name:F}):null}},C=/\\/g;x="var __filename='"+(x||"").replace(C,"\\\\")+"',__dirname='"+(w||"").replace(C,"\\\\")+"';";var r;try{if(D){var u=m.match(k[1]);var v=u.length;var z=u.join("").replace(k[2],"");for(r=0;r<v;r++)m=m.replace(u[r],
"");var B=x+"try{"+z+"\n}catch(e){return function (R){return R.error('CS AREA A HAS AN ERROR.\\n'+(e.stack||e),'500');};}return "+p+"function (R,tplVals,_get,_post,_cookie,_server){if(!suki.unlocked){return R.error('Server is too busy due to [Critical Error: uncaughtException(see logs)].','500.13');}try{"+m+"\n}catch(e){R.error('CS AREA B HAS AN ERRROR.\\n'+(e.stack||e),500)};};"}else B=x+"return "+p+"function (R,tplVals,_get,_post,_cookie,_server){if(!suki.unlocked){return R.error('Server is too busy due to [Critical Error: uncaughtException(see logs)].','500.13');}try{"+
m+"\n}catch(e){return R.error('CS AREA B HAS AN ERROR.\\n'+(e.stack||e),500);}};";A.cs=(new d("require,suki",B)).bind(I)(c(w),e)}catch(F){A.cs=function(y){y.error("["+e.extention.substring(1)+" init error] "+(F.stack||F),500)}}return A}function c(m){function w(x){var A=!String(x).isAbs()&&!~x.indexOf("node:")&&(~x.indexOf("/")||~x.indexOf("\\"));return g(A?m+"/"+x:x,T)||g(m+"/"+x,T)}w.cache=T.cache;w.extensions=T.extensions;w.resolve=function(x){var A=!String(x).isAbs()&&!~x.indexOf("node:")&&(~x.indexOf("/")||
~x.indexOf("\\"));try{var D=T.resolve(A?m+"/"+x:x)}catch(I){D=""}return D||T.resolve(m+"/"+x)};return w}function g(m,w){w||=T;try{var x=w(m)}catch(A){if(m.isAbs()||~m.indexOf("node:"))e.log("'libExists()' Pre Loading Failed: "+m,"w"),console.log(A.stack||A)}return x}var b=!1,a={log:function(m){console.log(m)}},d=Object.getPrototypeOf(function(){}).constructor,p="async ";try{new d("(async function(){})")}catch(m){p=""}var k=[RegExp("\\/\\/\\<\\!\\-\\-([\\s\\S]*?)\\/\\/\\-\\-\\>"),RegExp("\\/\\/\\<\\!\\-\\-[\\s\\S]*?\\/\\/\\-\\-\\>",
"g"),RegExp("\\/\\/\\<\\!\\-\\-|\\/\\/\\-\\-\\>","g")],l,n=[];e.init=function(m){var w;m&&void 0===l&&(l=m);setTimeout(function(){if(T&&l){h(l);l=null;for(w of n)w(e);n.length=0}},0);return function(x){"function"===typeof x&&n.push(x)}}})();(function(){String.prototype.isAbs=function(){return"/"===this.charAt(0)||"\\"===this.charAt(0)||":"===this.charAt(1)};String.prototype.toContextString=function(){return JSON.stringify([this]).slice(1,-1)};var h=function(q){return"\\"+q};String.prototype.escapeMarkdown=
function(q){var t="[\\.\\`\\*\\_\\{\\}\\[\\]\\<\\>\\(\\)\\#\\+\\-\\!\\|\\\\]",f;if(q){q=q.split("");var c=q.length;for(f=0;f<c;f++)t=t.replace("\\"+q[f],"")}return this.replace(new RegExp(t,"g"),h)}})();(function(){function h(b,a,d){var p=a.replace(/set-cookie/g,"Set-Cookie"),k=encodeURIComponent(b)+"=",l=p.indexOf(k);if(~l){l+=k.length;var n=p.indexOf(";",l);~n||(n=p.length);a=p.substr(n);if(~a.indexOf(k))return h(b,a);try{var m=decodeURIComponent(p.substring(l,n))}catch{return}if(!0===d){n=p.indexOf("Set-Cookie",
l);n=~n?n:p.length;a=p.substring(l+m.length,n);b={name:b,value:m};d=a.split(";");m=d.length;for(a=0;a<m;a++)p=d[a].trim(),""!==p&&(k=p.indexOf("="),~k?b[p.substr(0,k)]=p.substr(k+1):b[p]=!0);return b}return m}}function q(b,a){return"~"+a.toUpperCase()+":"}function t(b,a){return"object"===typeof b?a?b:JSON.stringify(b,f,"\t"):"^"+typeof b+":\\{: "+String(b)}function f(b,a){return t(a,Array.isArray(a)?"^array:\\{: ":"^"+typeof a+":\\{: ")}e.objectToArray=function(b){return Array.prototype.slice.call(b,
0)};e.next=new Function("...a","return a");var c=[/\\|%5c/gi,/&(?!\w+;)/g,/</g,/>/g,/"/g,/'/g,/%26/g,/%3c/gi,/%3e/gi,/&#37;22/g,/%/g];e.clean=function(b){if(!b)return 0===b?"0":"";b=String(b).replace(c[0],"").replace(c[1],"&amp;").replace(c[2],"&lt;").replace(c[3],"&gt;").replace(c[4],"&quot;").replace(c[5],"&#39;");try{var a=decodeURIComponent(b)}catch{return b.replace(c[0],"&#37;5C").replace(c[6],"&#37;26").replace(c[7],"&#37;3C").replace(c[8],"&#37;3E").replace(c[9],"&#37;22")}return b===a?b:b.replace(c[10],
"&#37;")};e.passAgentHeaders=function(b){return{accept:"text/html, application/xhtml+xml, */*","accept-language":"zh-CN,zh;q=0.8,en;q=0.6","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87."+(b?Math.random().toFixed(4):"2883")+".87 Safari/537.36","cache-control":"max-age=0",dnt:"1",connection:"keep-alive"}};e.randomArray=function(b,a,d){return b instanceof Array?(a=a&&d?Math.floor(Math.random()*(d-a+1)+a):Math.floor(Math.random()*b.length),b[a]):
null};e.parseCookieHeader=h;e.creatCookieHeader=function(b){var a,d=b.hours;(a=b.expires)?a="; expires="+a:d&&(a=new Date,a.setTime(a.getTime()+Math.floor(36E5*d)),a=a.toUTCString(),a="; expires="+a);return"Set-Cookie: "+b.name+"="+encodeURIComponent(b.value)+(a||"")+(b.domain&&"; domain="+b.domain||"")+(b.path&&"; path="+b.path||"")+(b.secure&&"; secure"||"")+(b.http&&"; HttpOnly"||"")};e.getIP=function(b,a){var d;if("object"!==typeof b)return"";switch(a){case "real":return b["x-real-ip"]||b["remote-addr"]||
"";case "user":return a=(b["x-forwarded-for"]||"").split(","),(d=a.length)?a[d-1].trim():b["remote-addr"]||"";case "proxy":return a=(b["x-forwarded-for"]||"").split(","),a[0]?a[0].trim():b["remote-addr"]||"";default:return b["remote-addr"]||""}};e.log=function(b,a){switch(a){case "n":e.logfile?e.writeMore(e.logfile,"\r\n[NOTE]"+b+"\r\n"):console.log("\r\n[NOTE]"+b+"\r\n");break;case "w":e.logfile?e.writeMore(e.logfile,"\r\n[WARN]"+b+"\r\n"):console.log("\r\n[WARN]"+b+"\r\n");break;case "e":e.logfile?
e.writeMore(e.logfile,"\r\n[ERRO]"+b+"\r\n"):console.log("\r\n[ERRO]"+b+"\r\n");break;case "c":e.logfile?e.writeMore(e.logfile,"\r\n[CRIT]"+b+"\r\n"):console.log("\r\n[CRIT]"+b+"\r\n");break;default:e.logfile?e.writeMore(e.logfile,"\r\n"+b+"\r\n"):console.log("\r\n"+b+"\r\n")}};var g=[/: "\^([a-z]+):\\\\{:/g,/"(,?)$/gm];e.obj2str=function(b){try{var a="object"===typeof b?t(b).replace(g[0],q).replace(g[1],"$1"):"^"+(typeof b).toUpperCase()+": "+String(b)}catch{return util.inspect(b)}return a};e.parseJSON=
function(b,a){try{return JSON.parse(b)}catch{return a||null}};e.signature=function(b,a){var d=(b=String(b)).substr(0,b.indexOf("."));a=a||"";if(64===d.length){var p=b.substr(65);return d===e.sha256(p+e.salt+a)?b:e.sha256(b+e.salt+a)+"."+b}return e.sha256(b+e.salt+a)+"."+b};e.rewriteURL=function(b){var a=0,d=e.rewriteRules,p=d.length,k=b.indexOf("?"),l=~k?b.substr(k+1):"";for(l&&(b=b.substr(0,k));a<p;a++)if(k=d[a],k=b.replace(k[0],k[1]),k!==b)return k.substr(1)+(l?(~k.indexOf("?")?"&":"?")+l:"");return l?
b+"?"+l:b}})();(function(){var h=require("node:fs"),q=require("node:dns");e.dnsTTL=3E5;e.dnsCache={_length:0};e.dnsHosts={};e.dnsInitHosts=function(t){t=Array.isArray(t)?t:h.readFileSync(t).toString("utf8").replace(/[\r\t]/g," ").replace(/[ ]+/g," ").split("\n");var f=t.length,c=0,g,b,a;if(0<f)for(g=this.dnsHosts={};c<f;c++)if((b=t[c].trim())&&"#"!==b.charAt(0)){b=b.replace(/[ ]+?#.*/g,"").split(" ");var d=b.length;if(1<d)for(a=1;a<d;a++)g[b[a]]=b[0]}return this};e.dnsPurgeCache=function(){this.dnsCache=
{_length:0};return this};e.dnsLookup4=function(t,f){var c=this.dnsCache,g=this.dnsHosts,b="object"===typeof f;1E3<c._length&&this.dnsPurgeCache();if(g=g[t]||g["*"])if(b)f[0](g);else f(g);else if((g=c[t])&&this.dnsTTL>(new Date).getTime()-g[1])if(b)f[0](g);else f(g);else q.resolve4(t,function(a,d){a?a=t:(a=d[0],c._length++,c[t]=[a,(new Date).getTime()]);if(b)f[0](a);else f(a)})}})();(function(){var h={};e.getAC=function(q){return h[q]||null};e.setAC=function(q,t){return"_"===q.charAt(0)?null:h[q]||
(h[q]=t)};e._setAC=function(q,t){return h["_"+q]||(h["_"+q]=t)};e.resetAC=function(q,t){return h[q]=t}})();(function(){e.isAllowed=function(h,q,t,f){q=Array.isArray(q)?q:String(q).split(",");return q[h]||q[h.substr(0,h.indexOf(".",4))+".*.*"]||q[h.substr(0,h.lastIndexOf("."))+".*"]||q[h.substr(0,h.indexOf("."))+".*.*.*"]?!1:t&&!!t.error(f||"Only valid agent can access.",404)||!0};e._defend=function(h,q){return q[h]||q[h.substr(0,h.indexOf(".",4))+".*.*"]||q[h.substr(0,h.lastIndexOf("."))+".*"]||q[h.substr(0,
h.indexOf("."))+".*.*.*"]?!1:!0};e.allow=function(h){if(_unblocked){var q={};h=Array.isArray(h)?h:String(h).split(",");h.forEach(t=>q[t]=!0);_unblocked=!1;REST.config("_f",q)}};e.unblock=function(){_unblocked=!0;REST.config("_f",!1)}})();(function(){var h=e.nullFunc,q=e.isWindows,t=e.isLinux||q,f={};e.shell=f;f.deamon=t?function(c,g,b){var a=c.cmd||c,d=Array.isArray(a)?a:q?String(a).split(" "):["sh","-c",String(a)],p=d.shift(),k=c.cwd?child_process.spawn(p,d,{cwd:c.cwd}):child_process.spawn(p,d),
l=(c="boolean"==typeof g)?g:!1,n=c?b||5E3:"number"==typeof g?g:5E3,m=this,w=function(){this.resume&&(this.resume=h);k=child_process.spawn(p,d);k.on("exit",x);k.on("error",h)},x=function(A){0==A||l&&setTimeout(w,n)};k.on("exit",x);k.on("error",h);return{stop:function(A){l=!1;m.kill(k);A||(this.stop=this.pause=this.resume=k=w=x=null)},pause:function(){this.stop(!0);this.resume=w}}}:h;f.exec=t?function(c,g,b){var a=c.cmd||c;a=Array.isArray(a)?a:q?String(a).split(" "):["sh","-c",String(a)];var d=c.cwd?
child_process.spawn(a.shift(),a,{cwd:c.cwd}):child_process.spawn(a.shift(),a),p=this,k,l,n,m,w;b||=g;g=Number(g)||9E4;if(l=(k="object"===typeof b)||"function"===typeof b){var x=m="";c=function(D){w=!0;m+=D?D.toString("utf8"):"shell.exec error(no msg)"};d.stdout.on("data",function(D){x+=D.toString("utf8")});d.stderr.on("data",c);d.on("error",c)}if(g){d.on("exit",function(D){if(!n){w||=0!=D;if(k)b[0](x||void 0,w?m:void 0);else l&&b(x||void 0,w?m:void 0);clearTimeout(A)}});var A=setTimeout(function(){if(!n){if(k)b[0](x||
void 0,w?m+"[TIMEOUT("+g+"ms)]":"[TIMEOUT("+g+"ms)]");else l&&b(x||void 0,w?m+"[TIMEOUT("+g+"ms)]":"[TIMEOUT("+g+"ms)]");p.kill(d);n=!0}},g)}}:h;f.kill=t?function(c){var g="object"===typeof c?c.pid:"number"===typeof c&&c;q?child_process.spawn("taskkill",["/f","/t",g?"/pid":"/im",g||c]):child_process.spawn(g&&"kill"||"pkill",g?["-9",g]:[c])}:h})();var Aa=[function(){try{e.sync=new Function("object","methed","next","return (...args)=>new Promise((resolve,reject)=>{var callback=(r,e,E)=>e&&undefined===r?reject(E||e):resolve(r);next&&(next.callback=callback);return 'string'===typeof methed?object[methed](...args,next?undefined:callback):(methed?methed.call(object,...args,next?undefined:callback):object(...args,next?undefined:callback))})"),
e.sync.mute=new Function("object","methed","next","return (...args)=>new Promise(resolve=>{var callback=r=>resolve(r);next&&(next.callback=callback);return 'string'===typeof methed?object[methed](...args,next?undefined:callback):(methed?methed.call(object,...args,next?undefined:callback):object(...args,next?undefined:callback))})")}catch(h){e.sync=null}},function(){var h=e.timeZoneOffset,q=e.timeZoneString,t=/[+\-][0-9]{2}:00$/;e.time=function(){return Math.floor((new Date).getTime()/1E3)+h};e.GMT=
e.UTC=function(f){return void 0===f||-12<f&&12>f?Math.floor((new Date).getTime()/1E3)+3600*(f||0):Date.parse(t.test(String(f).trimRight())?f:f+q)/1E3||0};e.getGMT=e.getUTC=function(f){var c=new Date;f&&c.setTime(c.getTime()+1E3*(Number(f)||0));return c.toUTCString()};e.dateFormat=function(f,c){f||="{YYYY}-{MM}-{dd} {hh}:{mm}:{ss}";c||"string"!==typeof f?("object"===typeof f||(f=new Date(1E3*f)),c||="{YYYY}-{MM}-{dd} {hh}:{mm}:{ss}"):(c=f,f=new Date,f.setTime(f.getTime()+1E3*h));return c.replace("{YYYY}",
f.getUTCFullYear()).replace("{MM}",f.getUTCMonth()+1).replace("{dd}",f.getUTCDate()).replace("{hh}",("0"+f.getUTCHours()).slice(-2)).replace("{mm}",("0"+f.getUTCMinutes()).slice(-2)).replace("{ss}",("0"+f.getUTCSeconds()).slice(-2))};e.timePassed=function(f,c){var g=c?new Date(Number(f+"000")):new Date;f=Math.floor(g.getTime()/1E3)-(c||f);c=Math.floor(f/3600);return 1>c?Math.floor(f/60)+"\u5206\u949f\u524d":24>c?c+"\u5c0f\u65f6\u524d":168>c?(g=60*(60*g.getHours()+g.getMinutes())+g.getSeconds()-(f-
86400*Math.floor(f/86400)),g=Math.floor((f+(0>g?86400+g:g))/86400),1===g?"\u6628\u5929":2===g?"\u524d\u5929":g+"\u5929\u524d"):5040>c?Math.floor(f/604800)+"\u5468\u524d":61320>c?Math.floor(f/2592E3)+"\u4e2a\u6708\u524d":c?Math.floor(f/31536E3)+"\u5e74\u524d":"\u65e5\u671f\u4e0d\u8be6"};e.calendar="".calendar;e.richCalendar="".richCalendar},function(){function h(c){var g=this._q;if(1>this._pendingTaskLength){this.dismiss(c);var b=g.length;if(0<b){for(c=0;c<b;c++)this.dismiss(g[c]);g.length=0;clearTimeout(this.tid)}}else g.push(c),
b=g.length,1===b?this.tid=setTimeout(f,this.patience,this):g.length>this.max&&this.expel(c)}function q(c){var g=this._pendingTask[c];this._pendingTaskLength++;g||(this._pendingTask[c]=!0);return g}function t(c){var g;this._pendingTask[c]=!1;if(1>--this._pendingTaskLength){c=this._q;var b=c.length;for(g=0;g<b;g++)this.dismiss(c[g]);c.length=0;clearTimeout(this.tid)}}function f(c){for(var g=0,b=c._q,a=c._q.length;g<a;g++)c.expel(b[g]);b.length=0}e.queue=function(){return{_q:[],_tid:0,_pendingTaskLength:0,
_pendingTask:{},max:10,patience:3E4,moreTask:q,lessTask:t,add:h,dismiss:e.nullFunc,expel:e.nullFunc}}},function(){function h(f){for(var c="",g=q;0<f;)c=g[f%62]+c,f=Math.floor(f/62);return c||String(f)}var q="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),t=[,48,29,87];e.int62=h.encode=h;h.decode=function(f){for(var c=String(f),g=0,b=0,a=c.charCodeAt(0);a;)g=62*g+a-t[a>>5],a=c.charCodeAt(++b);return f?g||NaN:NaN}}];var Ba=[function(){var h=e.nullFunc,q=require("node:fs"),
t=require("node:buffer").Buffer;e.write=function(f,c,g,b){b?q.writeFile(f,"string"===typeof c?t.from(c,b):c,function(a){var d="object"===typeof g;try{if(d)g[0](a?!1:!0,a);else g(a?!1:!0,a)}catch(p){(a=d&&g.r)?a.error("[file-callback-func-crit]\n"+(p.stack||p),500):e.log("[file-callback-func-crit]\n"+(p.stack||p))}}):g?"object"===typeof g&&g[0]?q.writeFile(f,"string"===typeof c?t.from(c):c,function(a){try{g[0](a?!1:!0,a)}catch(d){g.r?g.r.error("[file-callback-func-crit]\n"+(d.stack||d),500):e.log("[file-callback-func-crit]\n"+
(d.stack||d))}}):"function"===typeof g?q.writeFile(f,"string"===typeof c?t.from(c):c,function(a){try{g(a?!1:!0,a)}catch(d){e.log("[file-callback-func-crit]\n"+(d.stack||d))}}):q.writeFile(f,"string"===typeof c?t.from(c,g):c,h):q.writeFile(f,"string"===typeof c?t.from(c):c,h)};e.read=function(f,c,g){q.readFile(f,function(b,a){var d="object"===typeof c;try{if(d)c[0](b?void 0:g?a.toString(g):a,b);else c(b?void 0:g?a.toString(g):a,b)}catch(p){(b=d&&c.r)&&b.error("[file-callback-func-crit]\n"+(p.stack||
p),500)}})};e.writeMore=function(f,c,g,b){b?q.appendFile(f,"string"===typeof c?t.from(c,b):c,function(a){var d="object"===typeof g;try{if(d)g[0](a?!1:!0,a);else g(a?!1:!0,a)}catch(p){(a=d&&g.r)?a.error("[file-callback-func-crit]\n"+(p.stack||p),500):e.log("[file-callback-func-crit]\n"+(p.stack||p))}}):g?"object"===typeof g&&g[0]?q.appendFile(f,"string"===typeof c?t.from(c):c,function(a){try{g[0](a?!1:!0,a)}catch(d){g.r?g.r.error("[file-callback-func-crit]\n"+(d.stack||d),500):e.log("[file-callback-func-crit]\n"+
(d.stack||d))}}):"function"===typeof g?q.appendFile(f,"string"===typeof c?t.from(c):c,function(a){try{g(a?!1:!0,a)}catch(d){e.log("[file-callback-func-crit]\n"+(d.stack||d))}}):q.appendFile(f,"string"===typeof c?t.from(c,g):c,h):q.appendFile(f,"string"===typeof c?t.from(c):c,h)};e.delete=function(f,c){q.unlink(f,function(g){var b="object"===typeof c;try{if(b)c[0](g?!1:!0,g);else"function"===typeof c&&c(g?!1:!0,g)}catch(a){(g=b&&c.r)?g.error("[file-callback-func-crit]\n"+(a.stack||a),500):e.log("[file-callback-func-crit]\n"+
(a.stack||a))}})}},function(){function h(d,p,k,l){var n=!1,m,w,x,A;if(this[0]===h){var D=this[1];D.hostname=d;d=D;p=this[2];k=this[3];l=this[4]}D="https"===d.protocol.substr(0,5)?f:t;var I=(A=p&&"function"===typeof p[0])||"function"===typeof p;var C=d.host;var r=C.indexOf(":");C=~r?C.substr(0,r):C;d.path||(d.path=d.pathname+(d.search||""));d.host=d.hostname;d.hostname=C;I?(r="object"===typeof k,l||!r&&(l=k),k=r&&k||e.passAgentHeaders()):k="object"===typeof p&&p||e.passAgentHeaders();I&&"identity"!==
k["accept-encoding"]&&(k["accept-encoding"]="gzip, deflate");k.host||(k.host=C);d.headers=k;d=D.request(d,function(y){var E=y;if(m)if(z)if(200!=y.statusCode)z(404);else{E=m;var H=w;var L=x,J=L[2],M="1.1"===J,K=y.headers,U=H.hasOwnProperty("charset"),O=K["content-type"].split(";"),N=K["content-length"],Q=(new Date).toUTCString();H._mtime=e.UTC(Q);H.hasOwnProperty("contentType")||(H.contentType=O[0].trim());!U&&O[1]&&(H.charset=O[1].trim());H.hasOwnProperty("status")||(H.status=200);try{E.write("HTTP/"+
J+" "+H.status+"\r\nDate: "+Q+"\r\nContent-Type: "+H.contentType+(U?"; charset="+H.charset:"")+(N?"\r\nContent-Length: "+K["content-length"]:"")+"\r\nAccept-Ranges: none\r\nCache-Control: max-age=864000\r\nExpires: "+e.getGMT(864E3)+"\r\nLast-Modified: "+Q+"\r\nServer: "+e.server+L[1]+"\r\nConnection: "+(M&&"keep-alive"||"close")+"\r\n\r\n")}catch(R){console.log("suki.get: proxyCache error\n"+(R.stack||R))}z("length",Number(y.headers["content-length"]));y.on("data",B);y.on("end",z)}else q(y,m,w,x),
y.on("data",B);else I&&("gzip"===y.headers["content-encoding"]?(H=g.createGunzip(),H.on("error",u),y.pipe(H),y=H):"deflate"===y.headers["content-encoding"]&&(H=g.createInflate(),H.on("error",u),y.pipe(H),y=H),l&&y.setEncoding(l),y.on("data",B)),z&&(z.res=E,y.on("end",z))});var u=function(y){var E;if(n)m&&(z?(z(404),console.log(y)):(y=w,y._r=x,y.error("proxy: destination network unreachable.",404)));else try{if(A)p[0](void 0,y.stack||y);else p(void 0,y.stack||y)}catch(H){(E=A&&p.r)?E.error("[get-_callback-func-crit]\n"+
(H.stack||H),500):e.log("[get-_callback-func-crit]\n"+(H.stack||H),"e")}n=!0};d.on("error",u);if(I){var v="";var z=function(){if(!n){var y=z.res;y[200==y.statusCode?"data":"errorData"]=v;try{if(A)p[0](y);else p(y)}catch(E){(y=A&&p.r)?y.error("[get-_callback-func-crit]\n"+(E.stack||E),500):e.log("[get-_callback-func-crit]\n"+(E.stack||E),"e")}}n=!0};var B=function(y){"string"===typeof y?v+=y:v=v?a.concat([v,y]):y}}else{var F=function(y){m=y._r[0];w=y;x=y._r;B=F.ed;y._file&&(z=F.ee);return!0};n=!0}d.end();
return F}function q(d,p,k,l){var n=l[2],m="1.1"===n,w=d.headers,x=k.hasOwnProperty("charset"),A=w["content-type"].split(";"),D=w["content-length"],I=!D,C=w["set-cookie"],r=w.location,u=w["content-encoding"],v=w["cache-control:"],z=w.etag,B=w.expires;k.hasOwnProperty("contentType")||(k.contentType=A[0].trim());!x&&A[1]&&(k.charset=A[1].trim());k.hasOwnProperty("status")||(k.status=d.statusCode);if(I)d.on("end",function(){p.end()});try{p.write("HTTP/"+n+" "+k.status+"\r\nDate: "+(w.date||(new Date).toUTCString())+
"\r\nContent-Type: "+k.contentType+(x?"; charset="+k.charset:"")+(I?"":"\r\nContent-Length: "+D)+(r?"\r\nLocation: "+r:"")+(u?"\r\nContent-Encoding: "+u:"")+(C?"\r\nSet-Cookie: "+(Array.isArray(C)?C.join(""):C):"")+(v||"\r\nCache-Control: must-revalidate, no-cache, private\r\nExpires: -1\r\nPragma: no-cache")+(z?z:"")+(B?B:"")+"\r\nServer: "+(w.server||e.server)+l[1]+"\r\nConnection: "+(m&&"keep-alive"||"close")+"\r\n\r\n")}catch(F){console.log("suki.get: proxy error\n"+(F.stack||F))}}var t=require("node:http"),
f=require("node:https"),c=require("node:url"),g=require("node:zlib"),b,a=require("node:buffer").Buffer;t.globalAgent&&(t.globalAgent.maxSockets=f.globalAgent.maxSockets=Infinity,f.globalAgent.options.rejectUnauthorized=!1);e.get=b=function(d,p,k,l){var n=c.parse(d);d=String(n.hostname||n.host&&n.host.split(":")[0]||"");var m,w;if(!d)throw"suki.get: invalid hostname";if(/^[0-9.]+$/.test(d)||~d.indexOf("["))return h(n,p,k,l);if((w=(m=e.dnsCache[d])&&m[0])&&e.dnsTTL>(new Date).getTime()-m[1])return n.hostname=
w,h(n,p,k,l);p=e.next(h,n,p,k,l);e.dnsLookup4(d,p);return p};b.async=function(d,p,k){b(d,k,p)}},function(){function h(l,n,m,w,x){this[0]===h&&(n=this[1],n.hostname=l,l=n,n=this[2],m=this[3],w=this[4],x=this[5]);n||="__=";var A="https"===l.protocol.substr(0,5),D=m&&"function"===typeof m[0],I=D||"function"===typeof m;A=A?f:t;var C=!1,r="object"===typeof n,u=r&&"------WebKitFormBoundary"+e.random(16),v=u?u+"--\r\n":"",z=l.host;var B=z.indexOf(":");z=~B?z.substr(0,B):z;l.path||(l.path=l.pathname+(l.search||
""));l.host=l.hostname;l.hostname=z;I?(B="object"===typeof w,x||!B&&(x=w),w=B&&w||e.passAgentHeaders()):w="object"===typeof m&&m||e.passAgentHeaders();w["content-type"]=r?"multipart/form-data; boundary="+u.substr(2):"{"===n.charAt(0)||"["===n.charAt(0)?"application/json":"application/x-www-form-urlencoded";w.host||(w.host=z);if(r){var F="",y=0,E=[],H=[];B=null;var L=0,J,M=function(G){"isBuffer"===G?K.write(E[L]):E[L].unpipe(K);++L<E.length?(K.write("\r\n"+H[L]),k.isBuffer(E[L])?M("isBuffer"):E[L].pipe(K,
a)):K.end("\r\n"+v)};for(J in n)z=n[J],"string"===typeof z?F+=u+'\r\nContent-Disposition: form-data; name="'+J+'"\r\n\r\n'+z+"\r\n":Array.isArray(z)?F+=u+'\r\nContent-Disposition: form-data; name="'+J+'[]"\r\n\r\n'+z.join("\r\n"+u+'\r\nContent-Disposition: form-data; name="'+J+'[]"\r\n\r\n')+"\r\n":"object"===typeof z&&(k.isBuffer(z.raw)?(E.push(z.raw),B=u+'\r\nContent-Disposition: form-data; name="'+J+'"; filename="'+(z.name||J)+'"\r\n\r\n',H.push(B),y+=k.byteLength(B)+z.raw.byteLength+1):z.tmp_name&&
(B=c.createReadStream(z.tmp_name,d),B.on("end",M),E.push(B),B=u+'\r\nContent-Disposition: form-data; name="'+J+'"; filename="'+(z.name||J)+'"\r\n\r\n',H.push(B),y+=k.byteLength(B)+z.size+1));y+=k.byteLength(F)+v.length}w["content-length"]=r?y:k.byteLength(n);I&&"identity"!==w["accept-encoding"]&&(w["accept-encoding"]="gzip, deflate");l.headers=w;l.method="POST";var K=A.request(l,function(G){var S=G;if(R)N?N(404):(q(G,R,P,V),G.on("data",Q));else{if(I){if("gzip"===G.headers["content-encoding"]){var X=
b.createGunzip();X.on("error",U);G.pipe(X);G=X}else"deflate"===G.headers["content-encoding"]&&(X=b.createInflate(),X.on("error",U),G.pipe(X),G=X);x&&G.setEncoding(x);G.on("data",Q)}N&&(N.res=S,G.on("end",N))}});var U=function(G){if(C)R&&(N?N(404):(G=P,G._r=V,G.error("proxy: destination network unreachable.",404)));else try{if(D)m[0](void 0,G.stack||G);else m(void 0,G.stack||G)}catch(S){(G=D&&m.r)?G.error("[post-_callback-func-crit]\n"+(S.stack||S),500):e.log("[post-_callback-func-crit]\n"+(S.stack||
S),"e")}C=!0};K.on("error",U);if(I){var O="";var N=function(){if(!C){var G=N.res;G[200==G.statusCode?"data":"errorData"]=O;try{if(D)m[0](G);else m(G)}catch(S){(G=D&&m.r)?G.error("[post-_callback-func-crit]\n"+(S.stack||S),500):e.log("[post-_callback-func-crit]\n"+(S.stack||S),"e")}}C=!0};var Q=function(G){"string"===typeof G?O+=G:O=O?k.concat([O,G]):G}}else{var R,P,V,ea=function(G){G._file?(G=ea,Q=G.ed,N=G.ee,R=!0):(R=G._r[0],P=G,V=G._r,Q=ea.ed);return!0};C=!0}if(r)return K.write(F),E.length?(K.write(H[0]),
k.isBuffer(E[0])?M("isBuffer"):E[0].pipe(K,a)):K.end(v),ea;K.write(n);K.end();return ea}function q(l,n,m,w){var x=w[2],A="1.1"===x,D=l.headers,I=m.hasOwnProperty("charset"),C=D["content-type"].split(";"),r=D["content-length"],u=!r,v=D["set-cookie"],z=D.location,B=D["content-encoding"];m.hasOwnProperty("contentType")||(m.contentType=C[0].trim());!I&&C[1]&&(m.charset=C[1].trim());m.hasOwnProperty("status")||(m.status=l.statusCode);if(!m._file){if(u)l.on("end",function(){n.end()});try{n.write("HTTP/"+
x+" "+m.status+"\r\nDate: "+(D.date||(new Date).toUTCString())+"\r\nContent-Type: "+m.contentType+(I?"; charset="+m.charset:"")+(u?"":"\r\nContent-Length: "+r)+(z?"\r\nLocation: "+z:"")+(B?"\r\nContent-Encoding: "+B:"")+(v?"\r\nSet-Cookie: "+(Array.isArray(v)?v.join(""):v):"")+"\r\nCache-Control: must-revalidate, no-cache, private\r\nExpires: -1\r\nPragma: no-cache\r\nServer: "+(D.server||"Node.js")+w[1]+"\r\nConnection: "+(A&&"keep-alive"||"close")+"\r\n\r\n")}catch(F){console.log("suki.get: proxy error\n"+
(F.stack||F))}}}var t=require("node:http"),f=require("node:https"),c=require("node:fs"),g=require("node:url"),b=require("node:zlib"),a={end:!1},d={flags:"r",encoding:null,fd:null,mode:438},p,k=require("node:buffer").Buffer;t.globalAgent&&(t.globalAgent.maxSockets=f.globalAgent.maxSockets=Infinity,f.globalAgent.options.rejectUnauthorized=!1);e.post=p=function(l,n,m,w,x){var A=g.parse(l);l=String(A.hostname||A.host&&A.host.split(":")[0]||"");var D,I;if(!l)throw"suki.get: invalid hostname";if(/^[0-9.]+$/.test(l)||
~l.indexOf("["))return h(A,n,m,w,x);if((I=(D=e.dnsCache[l])&&D[0])&&e.dnsTTL>(new Date).getTime()-D[1])return A.hostname=I,h(A,n,m,w,x);if(l)return n=e.next(h,A,n,m,w,x),e.dnsLookup4(l,n),n};p.async=function(l,n,m,w){p(l,n,w,m)}},function(){e.binaryToHex=function(h){var q=h.length,t="",f=0;try{if(8<q){var c=Math.floor(q/8);var g=q%8;var b=0;if(0<g)for(;0<g;g--)t+=("0"+h.charCodeAt(b++).toString(16)).slice(-2);for(;0<c;c--)t+=("0"+h.charCodeAt(b).toString(16)).slice(-2)+("0"+h.charCodeAt(b+1).toString(16)).slice(-2)+
("0"+h.charCodeAt(b+2).toString(16)).slice(-2)+("0"+h.charCodeAt(b+3).toString(16)).slice(-2)+("0"+h.charCodeAt(b+4).toString(16)).slice(-2)+("0"+h.charCodeAt(b+5).toString(16)).slice(-2)+("0"+h.charCodeAt(b+6).toString(16)).slice(-2)+("0"+h.charCodeAt(b+7).toString(16)).slice(-2),b+=8}else for(;f<q;f++)t+=("0"+h.charCodeAt(f).toString(16)).slice(-2);return t}catch{}}},function(){e.binaryToUTF8=function(h){var q="",t=0,f=0,c=h.length,g=String.fromCharCode,b=0;try{for(;b<c;++b){var a=h.charCodeAt(b);
128==(a&192)?0<f&&(t=t<<6|a&63,--f):(0==f&&(q+=g(t)),128>a?(t=a,f=0):192==(a&224)?(t=a&31,f=1):224==(a&240)?(t=a&15,f=2):240==(a&248)&&(t=a&7,f=3))}0==f&&(q+=g(t));return q.substring(1)}catch{}}},function(){e.bufferToBinary=function(h){h=h.length;var q="",t=String.fromCharCode,f=0;try{if(8<h){var c=Math.floor(h/8);var g=h%8;var b=0;if(0<g)for(;0<g;g--)q+=t(data[b++]);for(;0<c;c--)q+=t(data[b],data[b+1],data[b+2],data[b+3],data[b+4],data[b+5],data[b+6],data[b+7]),b+=8}else for(;f<h;f++)q+=t(data[f]);
return q}catch{}}}]})(suki,node_modules);
